<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.Rotational.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Demonstration examples of the components of this package&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="3ec550c73946fef5ational.Examples"></A><A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational"
>Modelica.Mechanics.Rotational</A>.Examples</H2>
<B>Demonstration examples of the components of this package</B>
<P>
<H3>Information</H3>
<PRE></pre>
<p>
This package contains example models to demonstrate the usage of the
Modelica.Mechanics.Rotational package. Open the models and
simulate them according to the provided description in the models.
</p>

<pre>
</PRE><P>
<H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.First" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#d03d4861b604f9a9l.Examples.First"
>First</A>
</TD><TD>First example: simple drive train</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.Friction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#8aa3262d8bd56a8axamples.Friction"
>Friction</A>
</TD><TD>Drive train with clutch and brake</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.CoupledClutches" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#b81be2087a3cb38f.CoupledClutches"
>CoupledClutches</A>
</TD><TD>Drive train with 3 dynamically coupled clutches</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#83fce6705fc7d935s.LossyGearDemo1"
>LossyGearDemo1</A>
</TD><TD>Example to show that gear efficiency may lead to stuck motion</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#83fce6715fc7d936s.LossyGearDemo2"
>LossyGearDemo2</A>
</TD><TD>Example to show combination of LossyGear and BearingFriction</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstS.png" ALT="Modelica.Mechanics.Rotational.Examples.ElasticBearing" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Rotational_Examples.html#a47e398c8a9dc769s.ElasticBearing"
>ElasticBearing</A>
</TD><TD>Example to show possible usage of bearing flange</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE First<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.First" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="d03d4861b604f9a9l.Examples.First"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.First</H2>
<B>First example: simple drive train</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstD.png" ALT="Modelica.Mechanics.Rotational.Examples.First">
<H3>Information</H3>
<PRE></pre>
<p>The drive train consists of a motor inertia which is driven by
a sine-wave motor torque. Via a gearbox the rotational energy is
transmitted to a load inertia. Elasticity in the gearbox is modeled
by a spring element. A linear damper is used to model the
damping in the gearbox bearing.</p>
<p>Note, that a force component (like the damper of this example)
which is acting between a shaft and the housing has to be fixed
in the housing on one side via component Fixed.</p>
<p>Simulate for 1 second and plot the following variables:<br>
   angular velocities of inertias inertia2 and 3: inertia2.w, inertia3.w</p>

<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>10</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</A></TD><TD>freqHz</TD><TD>5</TD><TD>[Hz]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Inertia"
>Inertia</A></TD><TD>Jmotor</TD><TD>0.1</TD><TD>[kg.m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Inertia"
>Inertia</A></TD><TD>Jload</TD><TD>2</TD><TD>[kg.m2]</TD></TR>
<TR><TD>Real</TD><TD>ratio</TD><TD>10</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>damping</TD><TD>10</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> First <font color="darkgreen">&quot;First example: simple drive train&quot;</font>
  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font>Real amplitude=10;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>SI.Frequency</A> freqHz=5;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Inertia"
>SI.Inertia</A> Jmotor(min=0)=0.1;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Inertia"
>SI.Inertia</A> Jload(min=0)=2;
  <font color="blue">parameter </font>Real ratio=10;
  <font color="blue">parameter </font>Real damping=10;


  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Modelica.Mechanics.Rotational.Fixed</A> fixed;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia1(J=Jmotor);
  <A HREF="Modelica_Mechanics_Rotational.html#ecb5380e310a507ctional.IdealGear"
>Modelica.Mechanics.Rotational.IdealGear</A> idealGear(ratio=ratio);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia2(
    J=2, initType=Modelica.Mechanics.Rotational.Types.Init.InitialState);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Spring"
>Modelica.Mechanics.Rotational.Spring</A> spring(c=1.e4);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia3(
    J=Jload, initType=Modelica.Mechanics.Rotational.Types.Init.InitialState);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Damper"
>Modelica.Mechanics.Rotational.Damper</A> damper(d=damping);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sine(amplitude=amplitude, freqHz=freqHz);
<font color="blue">equation </font>
  <font color="red">connect</font>(torque.flange_b, inertia1.flange_a);
  <font color="red">connect</font>(inertia1.flange_b, idealGear.flange_a);
  <font color="red">connect</font>(idealGear.flange_b, inertia2.flange_a);
  <font color="red">connect</font>(inertia2.flange_b, spring.flange_a);
  <font color="red">connect</font>(spring.flange_b, inertia3.flange_a);
  <font color="red">connect</font>(damper.flange_a, inertia2.flange_b);
  <font color="red">connect</font>(damper.flange_b, fixed.flange_b);
  <font color="red">connect</font>(sine.y, torque.tau);
  <font color="red">connect</font>(torque.bearing, fixed.flange_b);
  <font color="red">connect</font>(idealGear.bearing, fixed.flange_b);
<font color="blue">end </font>First;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Friction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.Friction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="8aa3262d8bd56a8axamples.Friction"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.Friction</H2>
<B>Drive train with clutch and brake</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.FrictionD.png" ALT="Modelica.Mechanics.Rotational.Examples.Friction">
<H3>Information</H3>
<PRE></pre>
<p>This drive train contains a frictional <b>clutch</b> and a <b>brake</b>.
Simulate the system for 1 second using the following initial
values (defined already in the model):</p>
<pre>   inertia1.w =  90 (or brake.w)
   inertia2.w =  90
   inertia3.w = 100
</pre>
<p>Plot the output signals</p>
<pre>   tMotor      Torque of motor
   tClutch     Torque in clutch
   tBrake      Torque in brake
   tSpring     Torque in spring
</pre>
<p>as well as the absolute angular velocities of the three inertia components
(inertia1.w, inertia2.w, inertia3.w).</p>

<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0.5</TD><TD>Start time of step [s]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Friction <font color="darkgreen">&quot;Drive train with clutch and brake&quot;</font>
  <font color="blue">import </font>Modelica.Constants.pi;
  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> startTime=0.5 <font color="darkgreen">&quot;Start time of step&quot;</font>;

  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Torque"
>SI.Torque</A> tMotor <font color="darkgreen">&quot;driving torque of inertia3&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Torque"
>SI.Torque</A> tClutch <font color="darkgreen">&quot;friction torque of clutch&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Torque"
>SI.Torque</A> tBrake <font color="darkgreen">&quot;friction torque of brake&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Torque"
>SI.Torque</A> tSpring <font color="darkgreen">&quot;spring torque&quot;</font>;


  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia3(
    J=1,
    initType=Modelica.Mechanics.Rotational.Types.Init.InitialState,
    phi_start=0,
    w_start=100);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Clutch"
>Modelica.Mechanics.Rotational.Clutch</A> clutch(fn_max=160);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia2(
    J=0.05,
    initType=Modelica.Mechanics.Rotational.Types.Init.InitialState,
    phi_start=0,
    w_start=90);
  <A HREF="Modelica_Mechanics_Rotational.html#ee31a5b06756bc4fnal.SpringDamper"
>Modelica.Mechanics.Rotational.SpringDamper</A> spring(c=160, d=1);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> inertia1(
    J=1,
    initType=Modelica.Mechanics.Rotational.Types.Init.InitialState,
    phi_start=0,
    w_start=90);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Brake"
>Modelica.Mechanics.Rotational.Brake</A> brake(fn_max=1600);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> const(k=1);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> step(startTime=startTime);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> step2(
    height=-1,
    offset=1,
    startTime=startTime);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sine(amplitude=200, freqHz=50/pi);
  <A HREF="Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</A> product;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Fixed</A> fixed;
<font color="blue">equation </font>
  tMotor = torque.tau;
  tClutch = clutch.tau;
  tBrake = brake.tau;
  tSpring = spring.tau;

  <font color="red">connect</font>(torque.flange_b, inertia3.flange_a);
  <font color="red">connect</font>(inertia3.flange_b, clutch.flange_a);
  <font color="red">connect</font>(clutch.flange_b, inertia2.flange_a);
  <font color="red">connect</font>(inertia2.flange_b, spring.flange_a);
  <font color="red">connect</font>(spring.flange_b, brake.flange_a);
  <font color="red">connect</font>(brake.flange_b, inertia1.flange_a);
  <font color="red">connect</font>(sine.y, product.u1);
  <font color="red">connect</font>(step2.y, product.u2);
  <font color="red">connect</font>(product.y, torque.tau);
  <font color="red">connect</font>(const.y, clutch.f_normalized);
  <font color="red">connect</font>(step.y, brake.f_normalized);
  <font color="red">connect</font>(torque.bearing, fixed.flange_b);
  <font color="red">connect</font>(brake.bearing, fixed.flange_b);
<font color="blue">end </font>Friction;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE CoupledClutches<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.CoupledClutches" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="b81be2087a3cb38f.CoupledClutches"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.CoupledClutches</H2>
<B>Drive train with 3 dynamically coupled clutches</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.CoupledClutchesD.png" ALT="Modelica.Mechanics.Rotational.Examples.CoupledClutches">
<H3>Information</H3>
<PRE></pre>
<p>This example demonstrates how variable structure
drive trains are handeled. The drive train consists
of 4 inertias and 3 clutches, where the clutches
are controlled by input signals. The system has
2^3=8 different configurations and 3^3 = 27
different states (every clutch may be in forward
sliding, backward sliding or locked mode when the
relative angular velocity is zero). By invoking the
clutches at different time instances, the switching
of the configurations can be studied.</p>
<p>Simulate the system for 1.2 seconds with the
following initial values:<br>
J1.w = 10.</p>
<p>Plot the following variables:<br>
angular velocities of inertias (J1.w, J2.w, J3.w,
J4.w), frictional torques of clutches (clutchX.tau),
frictional mode of clutches (clutchX.mode) where
mode = -1/0/+1 means backward sliding,
locked, forward sliding.</p>

<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</A></TD><TD>freqHz</TD><TD>0.2</TD><TD>frequency of sine function to invoke clutch1 [Hz]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>T2</TD><TD>0.4</TD><TD>time when clutch2 is invoked [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>T3</TD><TD>0.9</TD><TD>time when clutch3 is invoked [s]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> CoupledClutches <font color="darkgreen">
  &quot;Drive train with 3 dynamically coupled clutches&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>SI.Frequency</A> freqHz=0.2 <font color="darkgreen">
    &quot;frequency of sine function to invoke clutch1&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> T2=0.4 <font color="darkgreen">&quot;time when clutch2 is invoked&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> T3=0.9 <font color="darkgreen">&quot;time when clutch3 is invoked&quot;</font>;


  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> J1(
    J=1,
    initType=Modelica.Mechanics.Rotational.Types.Init.InitialState,
    w_start=10);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Clutch"
>Modelica.Mechanics.Rotational.Clutch</A> clutch1(peak=1.1, fn_max=20);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sin1(amplitude=10, freqHz=5);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> step1(startTime=T2);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> J2(J=1, initType=Modelica.Mechanics.Rotational.Types.Init.InitialState);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Clutch"
>Modelica.Mechanics.Rotational.Clutch</A> clutch2(peak=1.1, fn_max=20);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> J3(J=1, initType=Modelica.Mechanics.Rotational.Types.Init.InitialState);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Clutch"
>Modelica.Mechanics.Rotational.Clutch</A> clutch3(peak=1.1, fn_max=20);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> J4(J=1, initType=Modelica.Mechanics.Rotational.Types.Init.InitialState);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> sin2(
    amplitude=1,
    freqHz=freqHz,
    phase=1.57);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> step2(startTime=T3);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Fixed</A> fixed;
<font color="blue">equation </font>
  <font color="red">connect</font>(torque.flange_b, J1.flange_a);
  <font color="red">connect</font>(J1.flange_b, clutch1.flange_a);
  <font color="red">connect</font>(clutch1.flange_b, J2.flange_a);
  <font color="red">connect</font>(J2.flange_b, clutch2.flange_a);
  <font color="red">connect</font>(clutch2.flange_b, J3.flange_a);
  <font color="red">connect</font>(J3.flange_b, clutch3.flange_a);
  <font color="red">connect</font>(clutch3.flange_b, J4.flange_a);
  <font color="red">connect</font>(sin1.y, torque.tau);
  <font color="red">connect</font>(sin2.y, clutch1.f_normalized);
  <font color="red">connect</font>(step1.y, clutch2.f_normalized);
  <font color="red">connect</font>(step2.y, clutch3.f_normalized);
  <font color="red">connect</font>(fixed.flange_b, torque.bearing);
<font color="blue">end </font>CoupledClutches;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE LossyGearDemo1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="83fce6705fc7d935s.LossyGearDemo1"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.LossyGearDemo1</H2>
<B>Example to show that gear efficiency may lead to stuck motion</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.LossyGearDemo1D.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo1">
<H3>Information</H3>
<PRE></pre>
<p>
This model contains two inertias which are connected by an ideal
gear where the friction between the teeth of the gear is modeled in
a physical meaningful way (friction may lead to stuck mode which
locks the motion of the gear). The friction is defined by an
efficiency factor (= 0.5) for forward and backward driving condition leading
to a torque dependent friction loss. Simulate for about 0.5 seconds.
The friction in the gear will take all modes
(forward and backward rolling, as well as stuck).
</p>
<p>
You may plot:
</p>
<pre>
Inertia1.w,
Inertia2.w : angular velocities of inertias
powerLoss  : power lost in the gear
gear.mode  :  1 = forward rolling
              0 = stuck (w=0)
             -1 = backward rolling
</pre>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> LossyGearDemo1 <font color="darkgreen">
  &quot;Example to show that gear efficiency may lead to stuck motion&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Power"
>SI.Power</A> PowerLoss <font color="darkgreen">&quot;power lost in the gear&quot;</font>;
  <A HREF="Modelica_Mechanics_Rotational.html#ce8c5f7b945a5521tional.LossyGear"
>Modelica.Mechanics.Rotational.LossyGear</A> gear(i=2, lossTable=[0, 0.5, 0.5, 0, 0]);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> Inertia1;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> Inertia2(J=1.5);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque1;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque2;
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> DriveSine(amplitude=10, freqHz=1);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> load(
    height=5,
    duration=2,
    offset=-10);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Fixed</A> fixed;
<font color="blue">equation </font>
  <font color="red">connect</font>(Inertia1.flange_b, gear.flange_a);
  <font color="red">connect</font>(gear.flange_b, Inertia2.flange_a);
  <font color="red">connect</font>(torque1.flange_b, Inertia1.flange_a);
  <font color="red">connect</font>(torque2.flange_b, Inertia2.flange_b);

  PowerLoss = gear.flange_a.tau*<font color="red">der</font>(gear.flange_a.phi) + gear.flange_b.tau*
    <font color="red">der</font>(gear.flange_b.phi);
  <font color="red">connect</font>(DriveSine.y, torque1.tau);
  <font color="red">connect</font>(load.y, torque2.tau);
  <font color="red">connect</font>(fixed.flange_b, gear.bearing);
  <font color="red">connect</font>(fixed.flange_b, torque1.bearing);
  <font color="red">connect</font>(fixed.flange_b, torque2.bearing);
<font color="blue">end </font>LossyGearDemo1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE LossyGearDemo2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="83fce6715fc7d936s.LossyGearDemo2"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.LossyGearDemo2</H2>
<B>Example to show combination of LossyGear and BearingFriction</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.LossyGearDemo2D.png" ALT="Modelica.Mechanics.Rotational.Examples.LossyGearDemo2">
<H3>Information</H3>
<PRE></pre>
<p>
This model contains bearing friction and gear friction (= efficiency).
If both friction models are stuck, there is no unique solution.
Still a reliable Modelica simulator, such as Dymola, should
be able to handle this situation.
</p>
<p>
Simulate for about 0.5 seconds. The friction elements are
in all modes (forward and backward rolling, as well as stuck).
</p>
<p>
You may plot:
</p>
<pre>
Inertia1.w,
Inertia2.w          : angular velocities of inertias
powerLoss           : power lost in the gear
bearingFriction.mode:  1 = forward rolling
                       0 = stuck (w=0)
                      -1 = backward rolling
gear.mode           :  1 = forward rolling
                       0 = stuck (w=0)
                      -1 = backward rolling
</pre>
<p>Note: This combination of LossyGear and BearingFriction is not recommended to use,
as component LossyGear includes the functionality of component BearingFriction
(only <i>peak</i> not supported).</p>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> LossyGearDemo2 <font color="darkgreen">
  &quot;Example to show combination of LossyGear and BearingFriction&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Power"
>SI.Power</A> PowerLoss <font color="darkgreen">&quot;power lost in the gear&quot;</font>;

  <A HREF="Modelica_Mechanics_Rotational.html#ce8c5f7b945a5521tional.LossyGear"
>Modelica.Mechanics.Rotational.LossyGear</A> gear(i=2, lossTable=[0, 0.5, 0.5, 0, 0]);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> Inertia1;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> Inertia2(J=1.5);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque1;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque2;
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</A> DriveSine(amplitude=10, freqHz=1);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> load(
    height=5,
    duration=2,
    offset=-10);
  <A HREF="Modelica_Mechanics_Rotational.html#3853572291d81c7f.BearingFriction"
>Modelica.Mechanics.Rotational.BearingFriction</A> bearingFriction(tau_pos=[0, 0.5; 1, 1]);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Fixed</A> fixed;
<font color="blue">equation </font>
  PowerLoss = gear.flange_a.tau*<font color="red">der</font>(gear.flange_a.phi) + gear.flange_b.tau*
    <font color="red">der</font>(gear.flange_b.phi);
  <font color="red">connect</font>(torque2.flange_b, Inertia2.flange_b);
  <font color="red">connect</font>(Inertia2.flange_a, gear.flange_b);
  <font color="red">connect</font>(gear.flange_a, Inertia1.flange_b);
  <font color="red">connect</font>(Inertia1.flange_a, bearingFriction.flange_b);
  <font color="red">connect</font>(bearingFriction.flange_a, torque1.flange_b);
  <font color="red">connect</font>(DriveSine.y, torque1.tau);
  <font color="red">connect</font>(load.y, torque2.tau);
  <font color="red">connect</font>(gear.bearing, fixed.flange_b);
  <font color="red">connect</font>(fixed.flange_b, torque2.bearing);
  <font color="red">connect</font>(fixed.flange_b, bearingFriction.bearing);
  <font color="red">connect</font>(torque1.bearing, fixed.flange_b);
<font color="blue">end </font>LossyGearDemo2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ElasticBearing<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Rotational.Examples.FirstI.png" ALT="Modelica.Mechanics.Rotational.Examples.ElasticBearing" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="a47e398c8a9dc769s.ElasticBearing"></A><A HREF="Modelica_Mechanics_Rotational_Examples.html#3ec550c73946fef5ational.Examples"
>Modelica.Mechanics.Rotational.Examples</A>.ElasticBearing</H2>
<B>Example to show possible usage of bearing flange</B><p>
<IMG SRC="Modelica.Mechanics.Rotational.Examples.ElasticBearingD.png" ALT="Modelica.Mechanics.Rotational.Examples.ElasticBearing">
<H3>Information</H3>
<PRE></pre>
<p>
This model demonstrates the usage of the bearing flange.
The gearbox is not connected rigidly to the ground, but by
a spring-damper-system. This allows examination of the gearbox
housing dynamics.</p>
<p>
Simulate for about 10 seconds and plot the angular velocities of the inertias <tt>housing.w</tt>,
<tt>shaft.w</tt> and <tt>load.w</tt>.</p>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ElasticBearing <font color="darkgreen">
  &quot;Example to show possible usage of bearing flange&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Icons.Example</A>;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> shaft;
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Modelica.Mechanics.Rotational.Inertia</A> load(J=50);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Spring"
>Modelica.Mechanics.Rotational.Spring</A> spring(c=1e3);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Fixed"
>Modelica.Mechanics.Rotational.Fixed</A> fixed;
  <A HREF="Modelica_Mechanics_Rotational.html#ee31a5b06756bc4fnal.SpringDamper"
>Modelica.Mechanics.Rotational.SpringDamper</A> springDamper(c=1e5, d=5);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Torque"
>Modelica.Mechanics.Rotational.Torque</A> torque;
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp(              duration=5, height=100);
  <A HREF="Modelica_Mechanics_Rotational.html#ecb5380e310a507ctional.IdealGear"
>Modelica.Mechanics.Rotational.IdealGear</A> idealGear(ratio=3);
  <A HREF="Modelica_Mechanics_Rotational.html#Modelica.Mechanics.Rotational.Inertia"
>Inertia</A> housing(J=5);
<font color="blue">equation </font>
  <font color="red">connect</font>(torque.flange_b, shaft.flange_a);
  <font color="red">connect</font>(spring.flange_b, load.flange_a);
  <font color="red">connect</font>(springDamper.flange_a, fixed.flange_b);
  <font color="red">connect</font>(shaft.flange_b, idealGear.flange_a);
  <font color="red">connect</font>(idealGear.flange_b, spring.flange_a);
  <font color="red">connect</font>(idealGear.bearing, housing.flange_b);
  <font color="red">connect</font>(housing.flange_a, springDamper.flange_b);
  <font color="red">connect</font>(ramp.y, torque.tau);
  <font color="red">connect</font>(fixed.flange_b, torque.bearing);
<font color="blue">end </font>ElasticBearing;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Fri Sep 07 19:13:51 2007.
</address></BODY>
</HTML>
