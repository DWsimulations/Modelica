<HTML>
<HEAD>
<TITLE>Modelica.Electrical.Spice3.Internal</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Collection of functions and records derived from the C++ Spice library&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Internal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal"></A><A HREF="Modelica_Electrical_Spice3.html#Modelica.Electrical.Spice3"
>Modelica.Electrical.Spice3</A>.Internal</H2>
<B>Collection of functions and records derived from the C++ Spice library</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>This package contains all function, parameters and data of semiconductor models, that are transformed from SPICE3 into Modelica. The models of the package semiconductors access to repository models. This package should not be used via direct access by a user of the Spice-Library for Modelica. It is restricted to the development.</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.MOSS.png" ALT="Modelica.Electrical.Spice3.Internal.MOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.MOS"
>MOS</A>
</TD><TD>Metal-Oxide Semiconductor Field-Effect Transistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardMOSS.png" ALT="Modelica.Electrical.Spice3.Internal.ModelcardMOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS"
>ModelcardMOS</A>
</TD><TD>Record with technological parameters (.model)</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.MOS2S.png" ALT="Modelica.Electrical.Spice3.Internal.MOS2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.MOS2"
>MOS2</A>
</TD><TD>Metal-Oxide Semiconductor Field-Effect Transistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardMOS2S.png" ALT="Modelica.Electrical.Spice3.Internal.ModelcardMOS2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS2"
>ModelcardMOS2</A>
</TD><TD>Record with technological parameters (.model)</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.BJTS.png" ALT="Modelica.Electrical.Spice3.Internal.BJT" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.BJT"
>BJT</A>
</TD><TD>Bipolar junction transistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardBJTS.png" ALT="Modelica.Electrical.Spice3.Internal.ModelcardBJT" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardBJT"
>ModelcardBJT</A>
</TD><TD>Record with technological parameters (.model)</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.DIODES.png" ALT="Modelica.Electrical.Spice3.Internal.DIODE" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.DIODE"
>DIODE</A>
</TD><TD>Diode model</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardDIODES.png" ALT="Modelica.Electrical.Spice3.Internal.ModelcardDIODE" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardDIODE"
>ModelcardDIODE</A>
</TD><TD>Record with technological parameters (.model)</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.R_SEMIS.png" ALT="Modelica.Electrical.Spice3.Internal.R_SEMI" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.R_SEMI"
>R_SEMI</A>
</TD><TD>Semiconductor resistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardRS.png" ALT="Modelica.Electrical.Spice3.Internal.ModelcardR" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardR"
>ModelcardR</A>
</TD><TD>Record with technological parameters (.model)</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.ModelcardRS.png" ALT="Modelica.Electrical.Spice3.Internal.SpiceConstants" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A>
</TD><TD>General constants of SPICE simulator</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Functions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Functions.html#Modelica.Electrical.Spice3.Internal.Functions"
>Functions</A>
</TD><TD>Equations for semiconductor calculation</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.SpiceRoot" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_SpiceRoot.html#Modelica.Electrical.Spice3.Internal.SpiceRoot"
>SpiceRoot</A>
</TD><TD>Basic records and functions</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Model" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Model.html#Modelica.Electrical.Spice3.Internal.Model"
>Model</A>
</TD><TD>Device Temperature</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Mosfet" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Mosfet.html#Modelica.Electrical.Spice3.Internal.Mosfet"
>Mosfet</A>
</TD><TD>Functions and records for Mosfets</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Mos" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Mos.html#Modelica.Electrical.Spice3.Internal.Mos"
>Mos</A>
</TD><TD>Records and functions for Mosfets level 1,2,3,6</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Mos1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Mos1.html#Modelica.Electrical.Spice3.Internal.Mos1"
>Mos1</A>
</TD><TD>Records and functions for Mosfets level 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Mos2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Mos2.html#Modelica.Electrical.Spice3.Internal.Mos2"
>Mos2</A>
</TD><TD>Records and functions for Mosfets level 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Diode" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode"
>Diode</A>
</TD><TD>Records and functions for diode model</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Rsemiconductor" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Rsemiconductor.html#Modelica.Electrical.Spice3.Internal.Rsemiconductor"
>Rsemiconductor</A>
</TD><TD>Records and functions for semiconductor resistor model</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Spice3.Internal.FunctionsS.png" ALT="Modelica.Electrical.Spice3.Internal.Bjt3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3"
>Bjt3</A>
</TD><TD>Records and functions for bjt model</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Spice3.Internal.MOSI.png" ALT="Modelica.Electrical.Spice3.Internal.MOS" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Spice3.Internal.MOS"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.MOS</H2>
<B>Metal-Oxide Semiconductor Field-Effect Transistor</B><p>
<IMG SRC="Modelica.Electrical.Spice3.Internal.MOSD.png" ALT="Modelica.Electrical.Spice3.Internal.MOS">
<P><H3>Information</H3></P>
<PRE></pre>
<p>MOSFET model, both N and P channel, LEVEL 1: Shichman-Hodges</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>mtype</TD><TD>&nbsp;</TD><TD>MOSFET type: 0 - N channel, 1 - P channel</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>1e-4</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>1e-4</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>AD</TD><TD>0</TD><TD>Area of the drain diffusion [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>AS</TD><TD>0</TD><TD>Area of the source diffusion [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>PD</TD><TD>0</TD><TD>Perimeter of the drain junction [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>PS</TD><TD>0</TD><TD>Perimeter of the source junction [m]</TD></TR>
<TR><TD>Real</TD><TD>NRD</TD><TD>1</TD><TD>Number of squares of the drain diffusions</TD></TR>
<TR><TD>Real</TD><TD>NRS</TD><TD>1</TD><TD>Number of squares of the source diffusions</TD></TR>
<TR><TD>Integer</TD><TD>OFF</TD><TD>0</TD><TD>Optional initial condition: 0 - IC not used, 1 - IC used, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>IC</TD><TD>&nbsp;</TD><TD>Initial condition values, not implemented yet [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TEMP</TD><TD>27</TD><TD>Operating temperature of the device [degC]</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS"
>ModelcardMOS</A></TD><TD>modelcard</TD><TD>&nbsp;</TD><TD>MOSFET modelcard</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>G</TD><TD>gate node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>D</TD><TD>drain node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>S</TD><TD>source node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>B</TD><TD>bulk node</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> MOS <font color="darkgreen">&quot;Metal-Oxide Semiconductor Field-Effect Transistor&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> G <font color="darkgreen">&quot;gate node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> D <font color="darkgreen">&quot;drain node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>Modelica.Electrical.Analog.Interfaces.NegativePin</A> S <font color="darkgreen">&quot;source node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> B <font color="darkgreen">&quot;bulk node&quot;</font>;</textblock>

  <font color="blue">parameter </font>Integer mtype(start = 0) <font color="darkgreen">
    &quot;MOSFET type: 0 - N channel, 1 - P channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> L =  1e-4 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> W =  1e-4 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> AD = 0 <font color="darkgreen">&quot;Area of the drain diffusion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> AS = 0 <font color="darkgreen">&quot;Area of the source diffusion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> PD =  0 <font color="darkgreen">&quot;Perimeter of the drain junction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> PS =  0 <font color="darkgreen">&quot;Perimeter of the source junction&quot;</font>;
  <font color="blue">parameter </font>Real NRD = 1 <font color="darkgreen">&quot;Number of squares of the drain diffusions&quot;</font>;
  <font color="blue">parameter </font>Real NRS = 1 <font color="darkgreen">&quot;Number of squares of the source diffusions&quot;</font>;
  <font color="blue">parameter </font>Integer OFF = 0 <font color="darkgreen">
    &quot;Optional initial condition: 0 - IC not used, 1 - IC used, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> IC( start = -1e40) <font color="darkgreen">
    &quot;Initial condition values, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TEMP = 27 <font color="darkgreen">&quot;Operating temperature of the device&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS"
>ModelcardMOS</A> modelcard <font color="darkgreen">&quot;MOSFET modelcard&quot;</font>;
  <A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A> C <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos1.html#Modelica.Electrical.Spice3.Internal.Mos1.Mos1ModelLineParams"
>Mos1.Mos1ModelLineParams</A> p =<font color="red"> Mos1.mos1RenameParameters</font>(modelcard, C) <font color="darkgreen">
    &quot;Model line parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mosfet.html#Modelica.Electrical.Spice3.Internal.Mosfet.Mosfet"
>Mosfet.Mosfet</A> m =<font color="red"> Mos1.mos1RenameParametersDev</font>(
    modelcard,
    mtype,
    W,
    L,
    AS,
    AS,
    PD,
    PS,
    NRD,
    NRS,
    OFF,
    IC,
    TEMP) <font color="darkgreen">&quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer m_type = <font color="blue">if </font>(m.m_bPMOS &gt; 0.5)<font color="blue"> then </font>-1<font color="blue"> else </font>1 <font color="darkgreen">
    &quot;Type of the transistor&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos.html#Modelica.Electrical.Spice3.Internal.Mos.MosModelLineVariables"
>Mos.MosModelLineVariables</A> vp =<font color="red"> Mos1.mos1ModelLineParamsInitEquations</font>(
        p,
        C,
        m_type) <font color="darkgreen">&quot;Model line variables&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos1.html#Modelica.Electrical.Spice3.Internal.Mos1.Mos1Calc"
>Mos1.Mos1Calc</A> c1 =<font color="red"> Mos.mosCalcInitEquations</font>(
        p,
        C,
        vp,
        m) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos1.html#Modelica.Electrical.Spice3.Internal.Mos1.Mos1Calc"
>Mos1.Mos1Calc</A> c2 =<font color="red"> Mos.mosCalcCalcTempDependencies</font>(
        p,
        C,
        vp,
        m,
        c1,
        m_type) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;

  <A HREF="Modelica_Electrical_Spice3_Internal_Mos.html#Modelica.Electrical.Spice3.Internal.Mos.CurrrentsCapacitances"
>Mos.CurrrentsCapacitances</A> cc;

  <font color="blue">constant </font>Boolean m_bInit = false;

  Real Dinternal;<font color="darkgreen">  //internal drain node</font>
  Real Sinternal;<font color="darkgreen">  //internal source node</font>
  Real ird;
  Real irs;
  Real ibdgmin;
  Real ibsgmin;

  Real icBD;
  Real icBS;
  Real icGB;
  Real icGS;
  Real icGD;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vDS <font color="darkgreen">&quot;Drain - source voltage&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vGS <font color="darkgreen">&quot;Gate - source voltage&quot;</font>;

<font color="blue">equation </font>
  <font color="red">assert</font>( NRD &lt;&gt; 0, &quot;NRD, length of drain in squares, must not be zero&quot;);
  <font color="red">assert</font>( NRS &lt;&gt; 0, &quot;NRS, length of source in squares, must not be zero&quot;);

  vDS = D.v - S.v;
  vGS = G.v - S.v;

  cc =<font color="red"> Mos.mosCalcNoBypassCode</font>(
    m,
    m_type,
    c2,
    p,
    C,
    vp,
    m_bInit,
    {G.v, B.v, Dinternal, Sinternal});

  <font color="darkgreen">// drain- and sourceresistances</font>
  <font color="darkgreen">// ----------------------------</font>
  ird * c1.m_drainResistance = (D.v - Dinternal);
  irs * p.m_sourceResistance = (S.v - Sinternal);

  <font color="darkgreen">// capacitances</font>
  <font color="darkgreen">// ------------</font>

   icBD = cc.cBD * (<font color="red">der</font>(B.v) -<font color="red"> der</font>(Dinternal));
   icBS = cc.cBS * (<font color="red">der</font>(B.v) -<font color="red"> der</font>(Sinternal));
   icGB = cc.cGB * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(B.v));
   icGD = cc.cGD * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(Dinternal));
   icGS = cc.cGS * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(Sinternal));

  <font color="darkgreen">// currents</font>
  <font color="darkgreen">// --------</font>
   ibsgmin = SpiceConstants.CKTgmin * (B.v - Sinternal);
   ibdgmin = SpiceConstants.CKTgmin * (B.v - Dinternal);
  G.i = icGB + icGD + icGS;
  B.i = cc.iBD + cc.iBS + ibdgmin + ibsgmin - icGB + icBD + icBS;
  D.i = ird;
  S.i = irs;

<font color="darkgreen">//currentsum at inner node</font>
<font color="darkgreen">//------------------------</font>
  0    = -ird + cc.idrain - cc.iBD - ibdgmin - icGD - icBD;
  0    = -irs - cc.idrain - cc.iBS - ibsgmin - icGS - icBS;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>MOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ModelcardMOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.ModelcardMOS"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.ModelcardMOS</H2>
<B>Record with technological parameters (.model)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>Modelcard parameters for MOSFET model, both N and P channel, LEVEL 1: Shichman-Hodges</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VTO</TD><TD>-1e40</TD><TD>Zero-bias threshold voltage, default 0 [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>KP</TD><TD>-1e40</TD><TD>Transconductance parameter, default 2e-5 [A/V2]</TD></TR>
<TR><TD>Real</TD><TD>GAMMA</TD><TD>-1e40</TD><TD>Bulk threshold parameter, default 0</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>PHI</TD><TD>-1e40</TD><TD>Surface potential, default 0.6 [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>LAMBDA</TD><TD>0</TD><TD>Channel-length modulation, default 0 [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RD</TD><TD>-1e40</TD><TD>Drain ohmic resistance, default 0 [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RS</TD><TD>-1e40</TD><TD>Source ohmic resistance, default 0 [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CBD</TD><TD>-1e40</TD><TD>Zero-bias B-D junction capacitance, default 0 [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CBS</TD><TD>-1e40</TD><TD>Zero-bias B-S junction capacitance, default 0 [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IS</TD><TD>1.e-14</TD><TD>Bulk junction saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>PB</TD><TD>0.8</TD><TD>Bulk junction potential [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGSO</TD><TD>0.0</TD><TD>Gate-source overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGDO</TD><TD>0.0</TD><TD>Gate-drain overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGBO</TD><TD>0.0</TD><TD>Gate-bulk overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RSH</TD><TD>0.0</TD><TD>Drain and source diffusion sheet resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CapacitancePerArea"
>CapacitancePerArea</A></TD><TD>CJ</TD><TD>0.0</TD><TD>Zero-bias bulk junction bottom cap. per sq-meter of junction area [F/m2]</TD></TR>
<TR><TD>Real</TD><TD>MJ</TD><TD>0.5</TD><TD>Bulk junction bottom grading coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CJSW</TD><TD>0.0</TD><TD>Zero-bias junction sidewall cap. per meter of junction perimeter [F/m]</TD></TR>
<TR><TD>Real</TD><TD>MJSW</TD><TD>0.5</TD><TD>Bulk junction sidewall grading coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CurrentDensity"
>CurrentDensity</A></TD><TD>JS</TD><TD>0.0</TD><TD>Bulk junction saturation current per sq-meter of junction area [A/m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>TOX</TD><TD>-1e40</TD><TD>Oxide thickness, default 1e-7 [m]</TD></TR>
<TR><TD>Real</TD><TD>NSUB</TD><TD>-1e40</TD><TD>Substrate doping, default 0</TD></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.PerArea_cm"
>PerArea_cm</A></TD><TD>NSS</TD><TD>0.0</TD><TD>Surface state density [1/cm2]</TD></TR>
<TR><TD>Real</TD><TD>TPG</TD><TD>1.0</TD><TD>Type of gate material: +1 opp. to substrate, -1 same as substrate, 0 Al gate</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>LD</TD><TD>0.0</TD><TD>Lateral diffusion [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.Area_cmPerVoltageSecond"
>Area_cmPerVoltageSecond</A></TD><TD>UO</TD><TD>600</TD><TD>Surface mobility [cm2/(V.s)]</TD></TR>
<TR><TD>Real</TD><TD>KF</TD><TD>0</TD><TD>Flicker noise coefficient</TD></TR>
<TR><TD>Real</TD><TD>AF</TD><TD>1.0</TD><TD>Flicker noise exponent</TD></TR>
<TR><TD>Real</TD><TD>FC</TD><TD>0.5</TD><TD>Coefficient for forward-bias depletion capacitance formula</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TNOM</TD><TD>-1e40</TD><TD>Parameter measurement temperature, default 27 [degC]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ModelcardMOS <font color="darkgreen">&quot;Record with technological parameters (.model)&quot;</font>

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VTO=-1e40 <font color="darkgreen">&quot;Zero-bias threshold voltage, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>SI.Transconductance</A> KP=-1e40 <font color="darkgreen">
    &quot;Transconductance parameter, default 2e-5&quot;</font>;
  <font color="blue">parameter </font>Real GAMMA=-1e40 <font color="darkgreen">&quot;Bulk threshold parameter, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> PHI=-1e40 <font color="darkgreen">&quot;Surface potential, default 0.6&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>SI.InversePotential</A> LAMBDA=0 <font color="darkgreen">&quot;Channel-length modulation, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RD=-1e40 <font color="darkgreen">&quot;Drain ohmic resistance, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RS=-1e40 <font color="darkgreen">&quot;Source ohmic resistance, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CBD=-1e40 <font color="darkgreen">
    &quot;Zero-bias B-D junction capacitance, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CBS=-1e40 <font color="darkgreen">
    &quot;Zero-bias B-S junction capacitance, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IS=1.e-14 <font color="darkgreen">&quot;Bulk junction saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> PB=0.8 <font color="darkgreen">&quot;Bulk junction potential&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>SI.Permittivity</A> CGSO=0.0 <font color="darkgreen">
    &quot;Gate-source overlap capacitance per meter channel width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>SI.Permittivity</A> CGDO=0.0 <font color="darkgreen">
    &quot;Gate-drain overlap capacitance per meter channel width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>SI.Permittivity</A> CGBO=0.0 <font color="darkgreen">
    &quot;Gate-bulk overlap capacitance per meter channel width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RSH=0.0 <font color="darkgreen">&quot;Drain and source diffusion sheet resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.CapacitancePerArea"
>SI.CapacitancePerArea</A> CJ=0.0 <font color="darkgreen">
    &quot;Zero-bias bulk junction bottom cap. per sq-meter of junction area&quot;</font>;
  <font color="blue">parameter </font>Real MJ=0.5 <font color="darkgreen">&quot;Bulk junction bottom grading coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>SI.Permittivity</A> CJSW=0.0 <font color="darkgreen">
    &quot;Zero-bias junction sidewall cap. per meter of junction perimeter&quot;</font>;
  <font color="blue">parameter </font>Real MJSW=0.5 <font color="darkgreen">&quot;Bulk junction sidewall grading coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.CurrentDensity"
>SI.CurrentDensity</A> JS=0.0 <font color="darkgreen">
    &quot;Bulk junction saturation current per sq-meter of junction area&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> TOX=-1e40 <font color="darkgreen">&quot;Oxide thickness, default 1e-7&quot;</font>;
  <font color="blue">parameter </font>Real NSUB=-1e40 <font color="darkgreen">&quot;Substrate doping, default 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.PerArea_cm"
>SI.Conversions.NonSIunits.PerArea_cm</A> NSS=0.0 <font color="darkgreen">
    &quot;Surface state density&quot;</font>;
  <font color="blue">parameter </font>Real TPG=1.0 <font color="darkgreen">
    &quot;Type of gate material: +1 opp. to substrate, -1 same as substrate, 0 Al gate&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> LD=0.0 <font color="darkgreen">&quot;Lateral diffusion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.Area_cmPerVoltageSecond"
>SI.Conversions.NonSIunits.Area_cmPerVoltageSecond</A> UO=600 <font color="darkgreen">
    &quot;Surface mobility&quot;</font>;
  <font color="blue">parameter </font>Real KF=0 <font color="darkgreen">&quot;Flicker noise coefficient&quot;</font>;
  <font color="blue">parameter </font>Real AF=1.0 <font color="darkgreen">&quot;Flicker noise exponent&quot;</font>;
  <font color="blue">parameter </font>Real FC=0.5 <font color="darkgreen">
    &quot;Coefficient for forward-bias depletion capacitance formula&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TNOM=-1e40 <font color="darkgreen">
    &quot;Parameter measurement temperature, default 27&quot;</font>;
  <font color="blue">constant </font>Integer LEVEL=1 <font color="darkgreen">&quot;Model level: Shichman-Hodges&quot;</font>;
<font color="blue">equation </font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ModelcardMOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MOS2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Spice3.Internal.MOS2I.png" ALT="Modelica.Electrical.Spice3.Internal.MOS2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Spice3.Internal.MOS2"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.MOS2</H2>
<B>Metal-Oxide Semiconductor Field-Effect Transistor</B><p>
<IMG SRC="Modelica.Electrical.Spice3.Internal.MOSD.png" ALT="Modelica.Electrical.Spice3.Internal.MOS2">
<P><H3>Information</H3></P>
<PRE></pre>
<p>MOSFET model, both N and P channel, LEVEL 2</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>mtype</TD><TD>&nbsp;</TD><TD>MOSFET type: 0 - N channel, 1 - P channel</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>1e-4</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>1e-4</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>AD</TD><TD>0</TD><TD>Area of the drain diffusion [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>AS</TD><TD>0</TD><TD>Area of the source diffusion [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>PD</TD><TD>0</TD><TD>Perimeter of the drain junction [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>PS</TD><TD>0</TD><TD>Perimeter of the source junction [m]</TD></TR>
<TR><TD>Real</TD><TD>NRD</TD><TD>1</TD><TD>Number of squares of the drain diffusions</TD></TR>
<TR><TD>Real</TD><TD>NRS</TD><TD>1</TD><TD>Number of squares of the source diffusions</TD></TR>
<TR><TD>Integer</TD><TD>OFF</TD><TD>0</TD><TD>Optional initial condition: 0 - IC not used, 1 - IC used, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>IC</TD><TD>&nbsp;</TD><TD>Initial condition values, not implemented yet [V]</TD></TR>
<TR><TD>Real</TD><TD>TEMP</TD><TD>27</TD><TD>Operating temperature of the device</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS2"
>ModelcardMOS2</A></TD><TD>modelcard</TD><TD>&nbsp;</TD><TD>MOSFET modelcard</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A></TD><TD>C</TD><TD>&nbsp;</TD><TD>General constants of SPICE simulator</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>G</TD><TD>gate node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>D</TD><TD>drain node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>S</TD><TD>source node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>B</TD><TD>bulk node</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> MOS2 <font color="darkgreen">&quot;Metal-Oxide Semiconductor Field-Effect Transistor&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> G <font color="darkgreen">&quot;gate node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> D <font color="darkgreen">&quot;drain node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>Modelica.Electrical.Analog.Interfaces.NegativePin</A> S <font color="darkgreen">&quot;source node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> B <font color="darkgreen">&quot;bulk node&quot;</font>;</textblock>

  <font color="blue">parameter </font>Integer mtype(start = 0) <font color="darkgreen">
    &quot;MOSFET type: 0 - N channel, 1 - P channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> L = 1e-4 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> W = 1e-4 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> AD = 0 <font color="darkgreen">&quot;Area of the drain diffusion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> AS = 0 <font color="darkgreen">&quot;Area of the source diffusion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> PD = 0 <font color="darkgreen">&quot;Perimeter of the drain junction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> PS = 0 <font color="darkgreen">&quot;Perimeter of the source junction&quot;</font>;
  <font color="blue">parameter </font>Real NRD = 1 <font color="darkgreen">&quot;Number of squares of the drain diffusions&quot;</font>;
  <font color="blue">parameter </font>Real NRS = 1 <font color="darkgreen">&quot;Number of squares of the source diffusions&quot;</font>;
  <font color="blue">parameter </font>Integer OFF = 0 <font color="darkgreen">
    &quot;Optional initial condition: 0 - IC not used, 1 - IC used, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> IC( start = -1e40) <font color="darkgreen">
    &quot;Initial condition values, not implemented yet&quot;</font>;
  <font color="blue">parameter </font>Real TEMP = 27 <font color="darkgreen">&quot;Operating temperature of the device&quot;</font>;

  Real MOScapgd = qm.qm_capgd;
  Real MOScapgs = qm.qm_capgs;
  Real MOScapgb = qm.qm_capgb;

  <font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS2"
>ModelcardMOS2</A> modelcard <font color="darkgreen">&quot;MOSFET modelcard&quot;</font>;
  <font color="blue">constant </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A> C <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos2.html#Modelica.Electrical.Spice3.Internal.Mos2.Mos2ModelLineParams"
>Mos2.Mos2ModelLineParams</A> p=<font color="red">Mos2.mos2RenameParameters</font>(
        modelcard, C) <font color="darkgreen">&quot;Model line parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mosfet.html#Modelica.Electrical.Spice3.Internal.Mosfet.Mosfet"
>Mosfet.Mosfet</A> m=<font color="red">Mos2.mos2RenameParametersDev</font>(
          modelcard,
          mtype,
          W,
          L,
          AD,
          AS,
          PD,
          PS,
          NRD,
          NRS,
          OFF,
          IC,
          TEMP) <font color="darkgreen">&quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer m_type = <font color="blue">if </font>(m.m_bPMOS &gt; 0.5)<font color="blue"> then </font>-1<font color="blue"> else </font>1 <font color="darkgreen">
    &quot;Type of the transistor&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos2.html#Modelica.Electrical.Spice3.Internal.Mos2.Mos2ModelLineVariables"
>Mos2.Mos2ModelLineVariables</A> vp=
        <font color="red">Mos2.mos2ModelLineParamsInitEquations</font>(
          p,
          C,
          m_type) <font color="darkgreen">&quot;Model line variables&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos2.html#Modelica.Electrical.Spice3.Internal.Mos2.Mos2Calc"
>Mos2.Mos2Calc</A> c1=<font color="red">Mos.mos2CalcInitEquations</font>(
          p,
          C,
          vp,
          m) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Mos2.html#Modelica.Electrical.Spice3.Internal.Mos2.Mos2Calc"
>Mos2.Mos2Calc</A> c2=<font color="red">Mos.mos2CalcCalcTempDependencies</font>(
          p,
          C,
          vp,
          m,
          c1,
          m_type) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;
  <A HREF="Modelica_Electrical_Spice3_Internal_Mos.html#Modelica.Electrical.Spice3.Internal.Mos.DEVqmeyer"
>Mos.DEVqmeyer</A> qm;
  <A HREF="Modelica_Electrical_Spice3_Internal_Mos.html#Modelica.Electrical.Spice3.Internal.Mos.CurrrentsCapacitances"
>Mos.CurrrentsCapacitances</A> cc;

  <font color="blue">constant </font>Boolean m_bInit = false;

  Real Dinternal;
  Real Sinternal;
  Real ird;
  Real irs;
  Real ibdgmin;
  Real ibsgmin;

  Real icBD;
  Real icBS;
  Real icGB;
  Real icGS;
  Real icGD;

  Real icqmGB;
  Real icqmGS;
  Real icqmGD;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vDS <font color="darkgreen">&quot;Drain - source voltage&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vGS <font color="darkgreen">&quot;Gate - source voltage&quot;</font>;

<font color="blue">equation </font>
  <font color="red">assert</font>( NRD &lt;&gt; 0, &quot;NRD, length of drain in squares, must not be zero&quot;);
  <font color="red">assert</font>( NRS &lt;&gt; 0, &quot;NRS, length of source in squares, must not be zero&quot;);

  vDS = D.v - S.v;
  vGS = G.v - S.v;

    (cc,qm) =<font color="red"> Mos.mos2CalcNoBypassCode</font>(
        m,
        m_type,
        c2,
        p,
        C,
        vp,
        m_bInit,
        {G.v,B.v,Dinternal,Sinternal});

  <font color="darkgreen">// drain- and sourceresistances</font>
  <font color="darkgreen">// ----------------------------</font>
  ird * c1.m_drainResistance  = (D.v - Dinternal);
  irs * p.m_sourceResistance =  (S.v - Sinternal);

  <font color="darkgreen">// capacitances</font>
  <font color="darkgreen">// ------------</font>

  icBD = cc.cBD * (<font color="red">der</font>(B.v) -<font color="red"> der</font>(Dinternal));
  icBS = cc.cBS * (<font color="red">der</font>(B.v) -<font color="red"> der</font>(Sinternal));
  icGB = cc.cGB * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(B.v));
  icGD = cc.cGD * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(Dinternal));
  icGS = cc.cGS * (<font color="red">der</font>(G.v) -<font color="red"> der</font>(Sinternal));

  icqmGB = qm.qm_capgb*(<font color="red">der</font>(G.v) -<font color="red"> der</font>(B.v));
  icqmGS = qm.qm_capgs*(<font color="red">der</font>(G.v) -<font color="red"> der</font>(Sinternal));
  icqmGD = qm.qm_capgd*(<font color="red">der</font>(G.v) -<font color="red"> der</font>(Dinternal));

  <font color="darkgreen">// currents</font>
  <font color="darkgreen">// --------</font>
    ibsgmin = SpiceConstants.CKTgmin*(B.v - Sinternal);
    ibdgmin = SpiceConstants.CKTgmin*(B.v - Dinternal);
  G.i =  icGB + icGD + icGS + icqmGB + icqmGD + icqmGS;
  B.i = cc.iBD + cc.iBS+ ibdgmin + ibsgmin -icGB + icBD + icBS - icqmGB;
  D.i = ird;
  S.i = irs;

<font color="darkgreen">//currentsum at inner node</font>
<font color="darkgreen">//------------------------</font>
  0    = -ird + cc.idrain - cc.iBD - ibdgmin - icGD - icBD  - icqmGD;
  0    = -irs - cc.idrain - cc.iBS - ibsgmin - icGS - icBS  - icqmGS;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>MOS2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ModelcardMOS2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.ModelcardMOS2"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.ModelcardMOS2</H2>
<B>Record with technological parameters (.model)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>Modelcard parameters for MOSFET model, both N and P channel, LEVEL 2</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS"
>ModelcardMOS</A> (Record with technological parameters (.model)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VTO</TD><TD>-1e40</TD><TD>Zero-bias threshold voltage, default 0 [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>KP</TD><TD>-1e40</TD><TD>Transconductance parameter, default 2e-5 [A/V2]</TD></TR>
<TR><TD>Real</TD><TD>GAMMA</TD><TD>-1e40</TD><TD>Bulk threshold parameter, default 0</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>PHI</TD><TD>-1e40</TD><TD>Surface potential, default 0.6 [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>LAMBDA</TD><TD>0</TD><TD>Channel-length modulation, default 0 [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RD</TD><TD>-1e40</TD><TD>Drain ohmic resistance, default 0 [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RS</TD><TD>-1e40</TD><TD>Source ohmic resistance, default 0 [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CBD</TD><TD>-1e40</TD><TD>Zero-bias B-D junction capacitance, default 0 [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CBS</TD><TD>-1e40</TD><TD>Zero-bias B-S junction capacitance, default 0 [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IS</TD><TD>1.e-14</TD><TD>Bulk junction saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>PB</TD><TD>0.8</TD><TD>Bulk junction potential [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGSO</TD><TD>0.0</TD><TD>Gate-source overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGDO</TD><TD>0.0</TD><TD>Gate-drain overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CGBO</TD><TD>0.0</TD><TD>Gate-bulk overlap capacitance per meter channel width [F/m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RSH</TD><TD>0.0</TD><TD>Drain and source diffusion sheet resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CapacitancePerArea"
>CapacitancePerArea</A></TD><TD>CJ</TD><TD>0.0</TD><TD>Zero-bias bulk junction bottom cap. per sq-meter of junction area [F/m2]</TD></TR>
<TR><TD>Real</TD><TD>MJ</TD><TD>0.5</TD><TD>Bulk junction bottom grading coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Permittivity"
>Permittivity</A></TD><TD>CJSW</TD><TD>0.0</TD><TD>Zero-bias junction sidewall cap. per meter of junction perimeter [F/m]</TD></TR>
<TR><TD>Real</TD><TD>MJSW</TD><TD>0.33</TD><TD>Bulk junction sidewall grading coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CurrentDensity"
>CurrentDensity</A></TD><TD>JS</TD><TD>0.0</TD><TD>Bulk junction saturation current per sq-meter of junction area [A/m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>TOX</TD><TD>-1e40</TD><TD>Oxide thickness, default 1e-7 [m]</TD></TR>
<TR><TD>Real</TD><TD>NSUB</TD><TD>-1e40</TD><TD>Substrate doping, default 0</TD></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.PerArea_cm"
>PerArea_cm</A></TD><TD>NSS</TD><TD>0.0</TD><TD>Surface state density [1/cm2]</TD></TR>
<TR><TD>Real</TD><TD>TPG</TD><TD>1.0</TD><TD>Type of gate material: +1 opp. to substrate, -1 same as substrate, 0 Al gate</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>LD</TD><TD>0.0</TD><TD>Lateral diffusion [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.Area_cmPerVoltageSecond"
>Area_cmPerVoltageSecond</A></TD><TD>UO</TD><TD>600</TD><TD>Surface mobility [cm2/(V.s)]</TD></TR>
<TR><TD>Real</TD><TD>KF</TD><TD>0</TD><TD>Flicker noise coefficient</TD></TR>
<TR><TD>Real</TD><TD>AF</TD><TD>1.0</TD><TD>Flicker noise exponent</TD></TR>
<TR><TD>Real</TD><TD>FC</TD><TD>0.5</TD><TD>Coefficient for forward-bias depletion capacitance formula</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TNOM</TD><TD>-1e40</TD><TD>Parameter measurement temperature, default 27 [degC]</TD></TR>
<TR><TD>Real</TD><TD>NFS</TD><TD>0.0</TD><TD>Fast surface state density</TD></TR>
<TR><TD>Real</TD><TD>XJ</TD><TD>0.0</TD><TD>Metallurgiecal junction depth</TD></TR>
<TR><TD>Real</TD><TD>UCRIT</TD><TD>1.e4</TD><TD>Critical field for mobility degradation (MOS2 only)</TD></TR>
<TR><TD>Real</TD><TD>UEXP</TD><TD>0.0</TD><TD>Critical field exponent in mobility degradation (MOS2 only)</TD></TR>
<TR><TD>Real</TD><TD>VMAX</TD><TD>0.0</TD><TD>Maximum drift velocity of carries</TD></TR>
<TR><TD>Real</TD><TD>NEFF</TD><TD>1.0</TD><TD>Total channel charge (fixed and mobile) coefficient (MOS2 only)</TD></TR>
<TR><TD>Real</TD><TD>DELTA</TD><TD>0.0</TD><TD>Width effect on theshold voltage</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ModelcardMOS2 <font color="darkgreen">&quot;Record with technological parameters (.model)&quot;</font>
<font color="blue">extends </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardMOS"
>ModelcardMOS</A>(MJSW=0.33);

  <font color="blue">parameter </font>Real NFS=0.0 <font color="darkgreen">&quot;Fast surface state density&quot;</font>;
  <font color="blue">parameter </font>Real XJ=0.0 <font color="darkgreen">&quot;Metallurgiecal junction depth&quot;</font>;
  <font color="blue">parameter </font>Real UCRIT=1.e4 <font color="darkgreen">
    &quot;Critical field for mobility degradation (MOS2 only)&quot;</font>;
  <font color="blue">parameter </font>Real UEXP=0.0 <font color="darkgreen">
    &quot;Critical field exponent in mobility degradation (MOS2 only)&quot;</font>;
  <font color="blue">parameter </font>Real VMAX=0.0 <font color="darkgreen">&quot;Maximum drift velocity of carries&quot;</font>;
  <font color="blue">parameter </font>Real NEFF=1.0 <font color="darkgreen">
    &quot;Total channel charge (fixed and mobile) coefficient (MOS2 only)&quot;</font>;
  <font color="blue">parameter </font>Real DELTA=0.0 <font color="darkgreen">&quot;Width effect on theshold voltage&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ModelcardMOS2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BJT<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Spice3.Internal.BJTI.png" ALT="Modelica.Electrical.Spice3.Internal.BJT" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Spice3.Internal.BJT"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.BJT</H2>
<B>Bipolar junction transistor</B><p>
<IMG SRC="Modelica.Electrical.Spice3.Internal.BJTD.png" ALT="Modelica.Electrical.Spice3.Internal.BJT">
<P><H3>Information</H3></P>
<PRE></pre>
<p>Bibpolar junction transistor model</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>TBJT</TD><TD>&nbsp;</TD><TD>Type of transistor (NPN=1, PNP=-1)</TD></TR>
<TR><TD>Real</TD><TD>AREA</TD><TD>1.0</TD><TD>Area factor</TD></TR>
<TR><TD>Boolean</TD><TD>OFF</TD><TD>false</TD><TD>Optional initial condition: false - IC not used, true - IC used, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>IC_VCE</TD><TD>&nbsp;</TD><TD>Initial condition value (VBE, not implemented yet [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>IC_VBE</TD><TD>&nbsp;</TD><TD>Initial condition value (VBC, not implemented yet [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TEMP</TD><TD>27</TD><TD>Operating temperature of the device [degC]</TD></TR>
<TR><TD>Boolean</TD><TD>SENS_AREA</TD><TD>false</TD><TD>Flag to request sensitivity WRT area, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardBJT"
>ModelcardBJT</A></TD><TD>modelcard</TD><TD>&nbsp;</TD><TD>BJT modelcard</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A></TD><TD>Con</TD><TD>&nbsp;</TD><TD>General constants of SPICE simulator</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>B</TD><TD>Base node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>C</TD><TD>Collector node</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>E</TD><TD>Emitter node</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BJT <font color="darkgreen">&quot;Bipolar junction transistor&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> B <font color="darkgreen">&quot;Base node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> C <font color="darkgreen">&quot;Collector node&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>Modelica.Electrical.Analog.Interfaces.NegativePin</A> E <font color="darkgreen">&quot;Emitter node&quot;</font>;</textblock>

  <font color="blue">parameter </font>Real TBJT( start = 1) <font color="darkgreen">&quot;Type of transistor (NPN=1, PNP=-1)&quot;</font>;
  <font color="blue">parameter </font>Real AREA = 1.0 <font color="darkgreen">&quot;Area factor&quot;</font>;
  <font color="blue">parameter </font>Boolean OFF = false <font color="darkgreen">
    &quot;Optional initial condition: false - IC not used, true - IC used, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> IC_VCE( start = -1e40) <font color="darkgreen">
    &quot;Initial condition value (VBE, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> IC_VBE( start = -1e40) <font color="darkgreen">
    &quot;Initial condition value (VBC, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TEMP = 27 <font color="darkgreen">&quot;Operating temperature of the device&quot;</font>;
  <font color="blue">parameter </font>Boolean SENS_AREA = false <font color="darkgreen">
    &quot;Flag to request sensitivity WRT area, not implemented yet&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardBJT"
>ModelcardBJT</A> modelcard <font color="darkgreen">&quot;BJT modelcard&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.BjtModelLineParams"
>Bjt3.BjtModelLineParams</A> p=<font color="red">Bjt3.bjtRenameParameters</font>(modelcard,
      Con) <font color="darkgreen">&quot;Model line parameters&quot;</font>;
  <font color="blue">constant </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A> Con <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.Bjt"
>Bjt3.Bjt</A> p1=<font color="red">Bjt3.bjtRenameParametersDev</font>(
          AREA,
          OFF,
          IC_VBE,
          IC_VCE,
          SENS_AREA) <font color="darkgreen">&quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Model.html#Modelica.Electrical.Spice3.Internal.Model.Model"
>Model.Model</A> m=<font color="red">Bjt3.bjtRenameParametersDevTemp</font>(TEMP) <font color="darkgreen">
    &quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.BjtModelLineParams"
>Bjt3.BjtModelLineParams</A> p2=<font color="red">Bjt3.bjtRenameParametersType</font>(TBJT);
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.BjtModelLineVariables"
>Bjt3.BjtModelLineVariables</A> vl=
      <font color="red">Bjt3.bjtModelLineInitEquations</font>(p) <font color="darkgreen">&quot;Model line variables&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.Bjt3Calc"
>Bjt3.Bjt3Calc</A> c=<font color="red">Bjt3.bjt3CalcTempDependencies</font>(
          p1,
          p,
          m,
          vl) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.BjtVariables"
>Bjt3.BjtVariables</A> v=<font color="red">Bjt3.bjtInitEquations</font>(
          p1,
          p,
          vl) <font color="darkgreen">&quot;Precalculated parameters&quot;</font>;

  <font color="blue">constant </font>Boolean m_bInit = false;
  <A HREF="Modelica_Electrical_Spice3_Internal_Bjt3.html#Modelica.Electrical.Spice3.Internal.Bjt3.CurrentsCapacitances"
>Bjt3.CurrentsCapacitances</A> cc;
  Real Cinternal;<font color="darkgreen">    //inner collector node</font>
  Real Binternal;<font color="darkgreen">    //inner base node</font>
  Real Einternal;<font color="darkgreen">    //inner emitter node</font>
  Real irc;
  Real ire;
  Real irb;
  Real ibcgmin;
  Real ibegmin;
  Real capbe;
  Real icapbe;
  Real capbc;
  Real icapbc;
  Real capbx;
  Real icapbx;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vBE <font color="darkgreen">&quot;Base - emitter voltage&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vCE <font color="darkgreen">&quot;Collector - emitter voltage&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> vBC <font color="darkgreen">&quot;Base - collector voltage&quot;</font>;

<font color="blue">equation </font>
  vBE = B.v - E.v;
  vCE = C.v - E.v;
  vBC = B.v - C.v;

   (cc,capbe,capbc,capbx) =<font color="red"> Bjt3.bjtNoBypassCode</font>(
         m,
         p1,
         p,
         c,
         v,
         vl,
         {C.v,B.v,E.v,Cinternal,Binternal,Einternal},
         m_bInit);

  <font color="darkgreen">    //currents through capacitances</font>
     icapbe = <font color="blue">if </font>(m_bInit)<font color="blue"> then </font>0.0<font color="blue"> else </font>capbe*(<font color="red">der</font>(Binternal) -<font color="red"> der</font>(Einternal));
     icapbc = <font color="blue">if </font>(m_bInit)<font color="blue"> then </font>0.0<font color="blue"> else </font>capbc*(<font color="red">der</font>(Binternal) -<font color="red"> der</font>(Cinternal));
     icapbx = <font color="blue">if </font>(m_bInit)<font color="blue"> then </font>0.0<font color="blue"> else </font>capbx*(<font color="red">der</font>(B.v) -<font color="red"> der</font>(Cinternal));
  <font color="darkgreen">   //Resistances</font>
     irc * p.m_collectorResist = (C.v - Cinternal);
     ire * p.m_emitterResist = (E.v -Einternal);
     irb * p.m_baseResist = (B.v - Binternal);

  <font color="darkgreen">  //currents</font>
    ibcgmin = SpiceConstants.CKTgmin * (Binternal - Cinternal);
    ibegmin = SpiceConstants.CKTgmin * (Binternal - Einternal);
    C.i = irc;
    E.i = ire;
    B.i = irb + icapbx;
  <font color="darkgreen">  //current sum at inner nodes</font>
    0 =  ibcgmin + irc -cc.iCC + cc.iBCN + cc.iBC + icapbc + icapbx;<font color="darkgreen">  //current sum for inner node Cinternal</font>
    0 =  ibegmin + ire + cc.iCC + cc.iBEN + cc.iBE + icapbe;<font color="darkgreen">          //current sum for inner node Einternal</font>
    0 = - ibcgmin - ibegmin + irb - cc.iBC - cc.iBE - cc.iBCN - cc.iBEN -icapbc - icapbe;<font color="darkgreen"> //current sum for inner node Binternal</font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BJT;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ModelcardBJT<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.ModelcardBJT"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.ModelcardBJT</H2>
<B>Record with technological parameters (.model)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>Modelcard parameters for BJT model, both PNP and NPN</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TNOM</TD><TD>-1e40</TD><TD>Parameter measurement temperature, default 27 [degC]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IS</TD><TD>1e-16</TD><TD>Transport saturation current [A]</TD></TR>
<TR><TD>Real</TD><TD>BF</TD><TD>100.00</TD><TD>Ideal maximum forward beta F</TD></TR>
<TR><TD>Real</TD><TD>NF</TD><TD>1.0</TD><TD>Forward current emission coefficientF</TD></TR>
<TR><TD>Real</TD><TD>NE</TD><TD>1.5</TD><TD>B-E leakage emission coefficient </TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>ISE</TD><TD>-1e40</TD><TD>B-E leakage saturation current, default = 0 [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>ISC</TD><TD>-1e40</TD><TD>B-C leakage saturation current, default = 0 [A]</TD></TR>
<TR><TD>Real</TD><TD>BR</TD><TD>1.0</TD><TD>Ideal maximum reverse beta</TD></TR>
<TR><TD>Real</TD><TD>NR</TD><TD>1.0</TD><TD>Reverse current emission coefficient </TD></TR>
<TR><TD>Real</TD><TD>NC</TD><TD>2.0</TD><TD>B-C leakage emission coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VAF</TD><TD>0.0</TD><TD>Forward Early voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IKF</TD><TD>0.0</TD><TD>Forward beta roll-off corner current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VAR</TD><TD>0.0</TD><TD>Reverse Early voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IKR</TD><TD>0.0</TD><TD>Reverse beta roll-off corner current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RE</TD><TD>0.0</TD><TD>Emitter resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RC</TD><TD>0.0</TD><TD>Collector resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IRB</TD><TD>0.0</TD><TD>Current for base resistance = (rb+rbm)/2 [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RB</TD><TD>0.0</TD><TD>Zero bias base resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RBM</TD><TD>-1e40</TD><TD>Minimum base resistance, default = 0.0 [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CJE</TD><TD>0.0</TD><TD>Zero bias B-E depletion capacitance [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VJE</TD><TD>0.75</TD><TD>B-E built in potential [V]</TD></TR>
<TR><TD>Real</TD><TD>MJE</TD><TD>0.33</TD><TD>B-E junction exponential faktor</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>TF</TD><TD>0.0</TD><TD>Ideal forward transit time [s]</TD></TR>
<TR><TD>Real</TD><TD>XTF</TD><TD>0.0</TD><TD>Coefficient for bias dependence of TF </TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>ITF</TD><TD>0.0</TD><TD>High current dependence of TF, [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VTF</TD><TD>0.0</TD><TD>Voltage giving VBC dependence of TF [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>PTF</TD><TD>0.0</TD><TD>Excess phase at freq=1/(TF*2*Pi) Hz [degC]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CJC</TD><TD>0.0</TD><TD>Zero bias B-C depletion capacitance [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VJC</TD><TD>0.75</TD><TD> B-C built in potential [V]</TD></TR>
<TR><TD>Real</TD><TD>MJC</TD><TD>0.33</TD><TD>B-C junction grading coefficient</TD></TR>
<TR><TD>Real</TD><TD>XCJC</TD><TD>1.0</TD><TD>Fraction of B-C cap to internal base</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>TR</TD><TD>0.0</TD><TD>Ideal reverse transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CJS</TD><TD>0.0</TD><TD>Zero bias C-S capacitance  [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VJS</TD><TD>0.75</TD><TD>Substrate junction built-in potential  [V]</TD></TR>
<TR><TD>Real</TD><TD>MJS</TD><TD>0.0</TD><TD>Substrate junction grading coefficient </TD></TR>
<TR><TD>Real</TD><TD>XTB</TD><TD>0.0</TD><TD>Forward and reverse beta temperature exponent </TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.GapEnergy"
>GapEnergy</A></TD><TD>EG</TD><TD>1.11</TD><TD>Energy gap for IS temperature effect on IS  [eV]</TD></TR>
<TR><TD>Real</TD><TD>XTI</TD><TD>3.0</TD><TD>Temperature exponent for IS</TD></TR>
<TR><TD>Real</TD><TD>KF</TD><TD>0.0</TD><TD>Flicker Noise Coefficient </TD></TR>
<TR><TD>Real</TD><TD>AF</TD><TD>1.0</TD><TD>Flicker Noise Exponent </TD></TR>
<TR><TD>Real</TD><TD>FC</TD><TD>0.5</TD><TD>Forward bias junction fit parameter</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ModelcardBJT <font color="darkgreen">&quot;Record with technological parameters (.model)&quot;</font>

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TNOM = -1e40 <font color="darkgreen">
    &quot;Parameter measurement temperature, default 27&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IS = 1e-16 <font color="darkgreen">&quot;Transport saturation current&quot;</font>;
  <font color="blue">parameter </font>Real BF = 100.00 <font color="darkgreen">&quot;Ideal maximum forward beta F&quot;</font>;
  <font color="blue">parameter </font>Real NF = 1.0 <font color="darkgreen">&quot;Forward current emission coefficientF&quot;</font>;
  <font color="blue">parameter </font>Real NE = 1.5 <font color="darkgreen">&quot;B-E leakage emission coefficient &quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> ISE = -1e40 <font color="darkgreen">
    &quot;B-E leakage saturation current, default = 0&quot;</font>;
  <font color="blue">constant </font>Real C2 =  -1e40 <font color="darkgreen">&quot;Obsolete parameter name, default = 0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> ISC = -1e40 <font color="darkgreen">
    &quot;B-C leakage saturation current, default = 0&quot;</font>;
  <font color="blue">constant </font>Real C4 =   -1e40 <font color="darkgreen">&quot;Obsolete parameter name, default = 0&quot;</font>;
  <font color="blue">parameter </font>Real BR = 1.0 <font color="darkgreen">&quot;Ideal maximum reverse beta&quot;</font>;
  <font color="blue">parameter </font>Real NR = 1.0 <font color="darkgreen">&quot;Reverse current emission coefficient &quot;</font>;
  <font color="blue">parameter </font>Real NC = 2.0 <font color="darkgreen">&quot;B-C leakage emission coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VAF = 0.0 <font color="darkgreen">&quot;Forward Early voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IKF = 0.0 <font color="darkgreen">&quot;Forward beta roll-off corner current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VAR = 0.0 <font color="darkgreen">&quot;Reverse Early voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IKR = 0.0 <font color="darkgreen">&quot;Reverse beta roll-off corner current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RE = 0.0 <font color="darkgreen">&quot;Emitter resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RC = 0.0 <font color="darkgreen">&quot;Collector resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IRB = 0.0 <font color="darkgreen">&quot;Current for base resistance = (rb+rbm)/2&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RB = 0.0 <font color="darkgreen">&quot;Zero bias base resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RBM = -1e40 <font color="darkgreen">&quot;Minimum base resistance, default = 0.0&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CJE = 0.0 <font color="darkgreen">&quot;Zero bias B-E depletion capacitance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VJE = 0.75 <font color="darkgreen">&quot;B-E built in potential&quot;</font>;
  <font color="blue">parameter </font>Real MJE = 0.33 <font color="darkgreen">&quot;B-E junction exponential faktor&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> TF = 0.0 <font color="darkgreen">&quot;Ideal forward transit time&quot;</font>;
  <font color="blue">parameter </font>Real XTF = 0.0 <font color="darkgreen">&quot;Coefficient for bias dependence of TF &quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> ITF = 0.0 <font color="darkgreen">&quot;High current dependence of TF,&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VTF = 0.0 <font color="darkgreen">&quot;Voltage giving VBC dependence of TF&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> PTF = 0.0 <font color="darkgreen">&quot;Excess phase at freq=1/(TF*2*Pi) Hz&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CJC = 0.0 <font color="darkgreen">&quot;Zero bias B-C depletion capacitance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VJC = 0.75 <font color="darkgreen">&quot; B-C built in potential&quot;</font>;
  <font color="blue">parameter </font>Real MJC = 0.33 <font color="darkgreen">&quot;B-C junction grading coefficient&quot;</font>;
  <font color="blue">parameter </font>Real XCJC = 1.0 <font color="darkgreen">&quot;Fraction of B-C cap to internal base&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> TR = 0.0 <font color="darkgreen">&quot;Ideal reverse transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CJS = 0.0 <font color="darkgreen">&quot;Zero bias C-S capacitance &quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VJS = 0.75 <font color="darkgreen">&quot;Substrate junction built-in potential &quot;</font>;
  <font color="blue">parameter </font>Real MJS = 0.0 <font color="darkgreen">&quot;Substrate junction grading coefficient &quot;</font>;
  <font color="blue">parameter </font>Real XTB = 0.0 <font color="darkgreen">&quot;Forward and reverse beta temperature exponent &quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.GapEnergy"
>SI.GapEnergy</A> EG = 1.11 <font color="darkgreen">
    &quot;Energy gap for IS temperature effect on IS &quot;</font>;
  <font color="blue">parameter </font>Real XTI = 3.0 <font color="darkgreen">&quot;Temperature exponent for IS&quot;</font>;
  <font color="blue">parameter </font>Real KF = 0.0 <font color="darkgreen">&quot;Flicker Noise Coefficient &quot;</font>;
  <font color="blue">parameter </font>Real AF = 1.0 <font color="darkgreen">&quot;Flicker Noise Exponent &quot;</font>;
  <font color="blue">parameter </font>Real FC = 0.5 <font color="darkgreen">&quot;Forward bias junction fit parameter&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ModelcardBJT;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DIODE<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Spice3.Internal.DIODEI.png" ALT="Modelica.Electrical.Spice3.Internal.DIODE" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Spice3.Internal.DIODE"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.DIODE</H2>
<B>Diode model</B><p>
<IMG SRC="Modelica.Electrical.Spice3.Internal.DIODED.png" ALT="Modelica.Electrical.Spice3.Internal.DIODE">
<P><H3>Information</H3></P>
<PRE></pre>
<p>DIODE model</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.TwoPin"
>Modelica.Electrical.Analog.Interfaces.TwoPin</A> (Component with two electrical pins).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>AREA</TD><TD>1</TD><TD>Area factor</TD></TR>
<TR><TD>Boolean</TD><TD>OFF</TD><TD>false</TD><TD>Optional initial condition: false - IC not used, true - IC used, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>IC</TD><TD>&nbsp;</TD><TD>Initial condition value (VD, not implemented yet [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TEMP</TD><TD>27</TD><TD>Operating temperature of the device [degC]</TD></TR>
<TR><TD>Boolean</TD><TD>SENS_AREA</TD><TD>&nbsp;</TD><TD>Flag to request sensitivity WRT area, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardDIODE"
>ModelcardDIODE</A></TD><TD>modelcarddiode</TD><TD>&nbsp;</TD><TD>DIODE modelcard</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>p</TD><TD>Positive pin Positive pin (potential p.v &gt; n.v for positive voltage drop v)</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>n</TD><TD>Negative pin</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> DIODE <font color="darkgreen">&quot;Diode model&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.TwoPin"
>Modelica.Electrical.Analog.Interfaces.TwoPin</A>;

  <font color="blue">parameter </font>Real AREA = 1 <font color="darkgreen">&quot;Area factor&quot;</font>;
  <font color="blue">parameter </font>Boolean OFF = false <font color="darkgreen">
    &quot;Optional initial condition: false - IC not used, true - IC used, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> IC( start = -1e40) <font color="darkgreen">
    &quot;Initial condition value (VD, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TEMP = 27 <font color="darkgreen">&quot;Operating temperature of the device&quot;</font>;
  <font color="blue">parameter </font>Boolean SENS_AREA( start = false) <font color="darkgreen">
    &quot;Flag to request sensitivity WRT area, not implemented yet&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardDIODE"
>ModelcardDIODE</A> modelcarddiode <font color="darkgreen">&quot;DIODE modelcard&quot;</font>;
  <A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A> C <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode.DiodeModelLineParams"
>Diode.DiodeModelLineParams</A> param=
       <font color="red">Diode.diodeRenameParameters</font>(modelcarddiode, C) <font color="darkgreen">&quot;Model line parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode.DiodeParams"
>Diode.DiodeParams</A> dp=<font color="red">Diode.diodeRenameParametersDev</font>(
          TEMP,
          AREA,
          IC,
          OFF,
          SENS_AREA) <font color="darkgreen">&quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Model.html#Modelica.Electrical.Spice3.Internal.Model.Model"
>Model.Model</A> m=<font color="red">Diode.diodeRenameParametersDevTemp</font>(TEMP) <font color="darkgreen">
    &quot;Renamed parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode.DiodeVariables"
>Diode.DiodeVariables</A> c1=<font color="red">Diode.diodeInitEquations</font>(param) <font color="darkgreen">
    &quot;Precalculated values&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode.DiodeCalc"
>Diode.DiodeCalc</A> c2=<font color="red">Diode.diodeCalcTempDependencies</font>(
          param,
          dp,
          m,
          c1) <font color="darkgreen">&quot;Precalculated values&quot;</font>;
  <font color="blue">constant </font>Boolean m_mbInit = false;

  <A HREF="Modelica_Electrical_Spice3_Internal_Diode.html#Modelica.Electrical.Spice3.Internal.Diode.CurrentsCapacitances"
>Diode.CurrentsCapacitances</A> cc;
  Real icap;
  Real m_dCap;
  Real pin;
  Real ir;
  Real igmin;

<font color="blue">equation </font>
   (cc,m_dCap) =<font color="red"> Diode.diodeNoBypassCode</font>(
        param,
        dp,
        c2,
        m,
        m_mbInit,
        {pin,n.v});

  <font color="darkgreen">//current through capacitance</font>
  icap = <font color="blue">if </font>(m_mbInit)<font color="blue"> then </font>0.0<font color="blue"> else </font>m_dCap*(<font color="red">der</font>(pin)-<font color="red">der</font>(n.v));
  <font color="darkgreen">//resistance</font>
    ir*param.m_resist = (p.v - pin);

  <font color="darkgreen">//gmin</font>
   igmin = SpiceConstants.CKTgmin*(pin - n.v);

  p.i =  ir;
  n.i =  -(cc.m_dCurrent +igmin) -icap;

<font color="darkgreen">//currentsum at inner node</font>
  0 =  -ir + cc.m_dCurrent + igmin +icap;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DIODE;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ModelcardDIODE<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.ModelcardDIODE"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.ModelcardDIODE</H2>
<B>Record with technological parameters (.model)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>Modelcard parameters for DIODE model</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IS</TD><TD>1e-14</TD><TD>Saturation Current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RS</TD><TD>0.0</TD><TD>Ohmic resistance [Ohm]</TD></TR>
<TR><TD>Real</TD><TD>N</TD><TD>1.0</TD><TD>Emission coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>TT</TD><TD>0.0</TD><TD>Transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>CJO</TD><TD>0.0</TD><TD>Junction capacitance [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VJ</TD><TD>1.0</TD><TD>Junction Potential [V]</TD></TR>
<TR><TD>Real</TD><TD>M</TD><TD>0.5</TD><TD>Grading coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.ActivationEnergy"
>ActivationEnergy</A></TD><TD>EG</TD><TD>1.11</TD><TD>Activation Energy [eV]</TD></TR>
<TR><TD>Real</TD><TD>XTI</TD><TD>3.0</TD><TD>Saturation current temperature exponent</TD></TR>
<TR><TD>Real</TD><TD>FC</TD><TD>0.5</TD><TD>Forward bias junction fit parameter</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>BV</TD><TD>-1e40</TD><TD>Reverse breakdown voltage, default infinity [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IBV</TD><TD>1e-3</TD><TD>Current at reverse breakdown voltage [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TNOM</TD><TD>27</TD><TD>Parameter measurement temperature [degC]</TD></TR>
<TR><TD>Real</TD><TD>KF</TD><TD>0.0</TD><TD>Flicker noise coefficient</TD></TR>
<TR><TD>Real</TD><TD>AF</TD><TD>1.0</TD><TD>Flicker noise exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>G</TD><TD>0</TD><TD>Ohmic conductance [S]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ModelcardDIODE <font color="darkgreen">&quot;Record with technological parameters (.model)&quot;</font>
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IS=1e-14 <font color="darkgreen">&quot;Saturation Current&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RS=0.0 <font color="darkgreen">&quot;Ohmic resistance&quot;</font>;
 <font color="blue">parameter </font>Real N=1.0 <font color="darkgreen">&quot;Emission coefficient&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> TT=0.0 <font color="darkgreen">&quot;Transit time&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SI.Capacitance</A> CJO=0.0 <font color="darkgreen">&quot;Junction capacitance&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> VJ=1.0 <font color="darkgreen">&quot;Junction Potential&quot;</font>;
 <font color="blue">parameter </font>Real M=0.5 <font color="darkgreen">&quot;Grading coefficient&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.ActivationEnergy"
>SI.ActivationEnergy</A> EG=1.11 <font color="darkgreen">&quot;Activation Energy&quot;</font>;
 <font color="blue">parameter </font>Real XTI=3.0 <font color="darkgreen">&quot;Saturation current temperature exponent&quot;</font>;
 <font color="blue">parameter </font>Real FC=0.5 <font color="darkgreen">&quot;Forward bias junction fit parameter&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SI.Voltage</A> BV=-1e40 <font color="darkgreen">&quot;Reverse breakdown voltage, default infinity&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SI.Current</A> IBV=1e-3 <font color="darkgreen">&quot;Current at reverse breakdown voltage&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TNOM=27 <font color="darkgreen">&quot;Parameter measurement temperature&quot;</font>;
 <font color="blue">parameter </font>Real KF=0.0 <font color="darkgreen">&quot;Flicker noise coefficient&quot;</font>;
 <font color="blue">parameter </font>Real AF=1.0 <font color="darkgreen">&quot;Flicker noise exponent&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SI.Conductance</A> G=0 <font color="darkgreen">&quot;Ohmic conductance&quot;</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ModelcardDIODE;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE R_SEMI<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Spice3.Internal.R_SEMII.png" ALT="Modelica.Electrical.Spice3.Internal.R_SEMI" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Spice3.Internal.R_SEMI"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.R_SEMI</H2>
<B>Semiconductor resistor</B><p>
<IMG SRC="Modelica.Electrical.Spice3.Internal.R_SEMID.png" ALT="Modelica.Electrical.Spice3.Internal.R_SEMI">
<P><H3>Information</H3></P>
<PRE></pre>
<p>Semiconductor resistance model</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A> (Component with two electrical pins p and n and current i from p to n).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>R</TD><TD>-1e40</TD><TD>Resistance, if specified, geometrical information is overwritten [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TEMP</TD><TD>-1e40</TD><TD>Temperature of resistor [degC]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>-1e40</TD><TD>Lenght of the resistor [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>-1e40</TD><TD>Width of the resistor, default DEFW (modelcard) [m]</TD></TR>
<TR><TD>Boolean</TD><TD>SENS_AREA</TD><TD>false</TD><TD>Parameter for sensitivity analyses, not implemented yet</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardR"
>ModelcardR</A></TD><TD>modelcard</TD><TD>&nbsp;</TD><TD>Resistor modelcard</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>p</TD><TD>Positive pin (potential p.v &gt; n.v for positive voltage drop v)</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>n</TD><TD>Negative pin</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> R_SEMI <font color="darkgreen">&quot;Semiconductor resistor&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> R= -1e40 <font color="darkgreen">
    &quot;Resistance, if specified, geometrical information is overwritten&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TEMP = -1e40 <font color="darkgreen">&quot;Temperature of resistor&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> L = -1e40 <font color="darkgreen">&quot;Lenght of the resistor&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> W = -1e40 <font color="darkgreen">
    &quot;Width of the resistor, default DEFW (modelcard)&quot;</font>;
  <font color="blue">parameter </font>Boolean SENS_AREA= false <font color="darkgreen">
    &quot;Parameter for sensitivity analyses, not implemented yet&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.ModelcardR"
>ModelcardR</A> modelcard <font color="darkgreen">&quot;Resistor modelcard&quot;</font>;
  <A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal.SpiceConstants"
>SpiceConstants</A> C <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Rsemiconductor.html#Modelica.Electrical.Spice3.Internal.Rsemiconductor.ResistorModelLineParams"
>Rsemiconductor.ResistorModelLineParams</A> lp=
      <font color="red">Rsemiconductor.resistorRenameParameters</font>(modelcard, C) <font color="darkgreen">
    &quot;Model Line Parameters&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_Electrical_Spice3_Internal_Rsemiconductor.html#Modelica.Electrical.Spice3.Internal.Rsemiconductor.ResistorParams"
>Rsemiconductor.ResistorParams</A> rp=
      <font color="red">Rsemiconductor.resistorRenameParametersDev</font>(
          R,
          W,
          L,
          TEMP,
          SENS_AREA,
          C) <font color="darkgreen">&quot;Renamed parameters&quot;</font>;

    <A HREF="Modelica_Electrical_Spice3_Internal_Rsemiconductor.html#Modelica.Electrical.Spice3.Internal.Rsemiconductor.ResistorVariables"
>Rsemiconductor.ResistorVariables</A> vp;

<font color="blue">algorithm </font>
  vp :=<font color="red"> Rsemiconductor.resistorInitEquations</font>(rp, lp);

  (vp.m_dConduct,vp.m_dCond_dTemp) :=
    <font color="red">Modelica.Electrical.Spice3.Internal.Functions.resDepTemp</font>(
        vp.m_dResist,
        rp.m_dTemp,
        lp.m_dTnom,
        lp.m_dTC1,
        lp.m_dTC2);

 i :=vp.m_dConduct*v;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>R_SEMI;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ModelcardR<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.ModelcardR"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.ModelcardR</H2>
<B>Record with technological parameters (.model)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>Modelcard parameters for semiconductor resistance model</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.FirstOrderTemperaturCoefficient"
>FirstOrderTemperaturCoefficient</A></TD><TD>TC1</TD><TD>0.0</TD><TD>First order temperature coefficient [Ohm/degC]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.SecondOrderTemperaturCoefficient"
>SecondOrderTemperaturCoefficient</A></TD><TD>TC2</TD><TD>0.0</TD><TD>In Ohm/(deg C*deg C), Second2 order temperature coefficient [Ohm/degC2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RSH</TD><TD>-1e40</TD><TD>Sheet resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>Temp_C</A></TD><TD>TNOM</TD><TD>-1e40</TD><TD>Parameter measurement temperature, default 27 [degC]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>DEFW</TD><TD>1e-5</TD><TD>Default device width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>NARROW</TD><TD>0</TD><TD>Narrowing of resistor due to side etching [m]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> ModelcardR <font color="darkgreen">&quot;Record with technological parameters (.model)&quot;</font>
 <font color="blue">parameter </font><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.FirstOrderTemperaturCoefficient"
>SI.Conversions.NonSIunits.FirstOrderTemperaturCoefficient</A> TC1 =        0.0 <font color="darkgreen">
    &quot;First order temperature coefficient&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits_Conversions_NonSIunits.html#Modelica.SIunits.Conversions.NonSIunits.SecondOrderTemperaturCoefficient"
>SI.Conversions.NonSIunits.SecondOrderTemperaturCoefficient</A> TC2 =               0.0 <font color="darkgreen">
    &quot;In Ohm/(deg C*deg C), Second2 order temperature coefficient&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SI.Resistance</A> RSH = -1e40 <font color="darkgreen">&quot;Sheet resistance&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_C"
>SI.Temp_C</A> TNOM = -1e40 <font color="darkgreen">
    &quot;Parameter measurement temperature, default 27&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> DEFW = 1e-5 <font color="darkgreen">&quot;Default device width&quot;</font>;
 <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> NARROW = 0 <font color="darkgreen">&quot;Narrowing of resistor due to side etching&quot;</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ModelcardR;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SpiceConstants<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Spice3.Internal.SpiceConstants"></A><A HREF="Modelica_Electrical_Spice3_Internal.html#Modelica.Electrical.Spice3.Internal"
>Modelica.Electrical.Spice3.Internal</A>.SpiceConstants</H2>
<B>General constants of SPICE simulator</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>General constants used by SPICE</p>
<p>The package Repository is not for user access. There all function, records and data are stored, that are needed for the semiconductor models of the package Semiconductors.</p>
<pre></PRE><P>

<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">record</font> SpiceConstants <font color="darkgreen">&quot;General constants of SPICE simulator&quot;</font>
  <font color="blue">constant </font>Real EPSSIL =     (11.7 * 8.854214871e-12);
  <font color="blue">constant </font>Real EPSOX =      3.453133e-11;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Charge"
>SI.Charge</A> CHARGE =     (1.6021918e-19);
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_K"
>SI.Temp_K</A> CONSTCtoK =  (273.15);
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_K"
>SI.Temp_K</A> REFTEMP =    300.15;<font color="darkgreen">  /* 27 deg C */</font>

  <font color="blue">constant </font>Real CONSTroot2 =<font color="red">  sqrt</font>(2.0);
  <font color="blue">constant </font>Real CONSTvt0(   <font color="blue">final </font>unit= &quot;(J/K)/(A.s)&quot;) = Modelica.Constants.k *<font color="red"> Modelica.SIunits.Conversions.from_degC</font>(27)  / CHARGE;<font color="darkgreen"> // deg C</font>
  <font color="blue">constant </font>Real CONSTKoverQ(  <font color="blue">final </font>unit= &quot;(J/K)/(A.s)&quot;)= Modelica.Constants.k / CHARGE;
  <font color="blue">constant </font>Real CONSTe =<font color="red">      exp</font>(1.0);

  <font color="darkgreen">// options</font>

  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SI.Conductance</A> CKTgmin =         1e-12;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_K"
>SI.Temp_K</A> CKTnomTemp =      300.15;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_K"
>SI.Temp_K</A> CKTtemp =         300.15;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> CKTdefaultMosAD = 0.0;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> CKTdefaultMosAS = 0.0;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> CKTdefaultMosL =  100e-6;
  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> CKTdefaultMosW =  100e-6;
  <font color="blue">constant </font>Real CKTreltol =       1e-10;
  <font color="blue">constant </font>Real CKTabstol =       1e-15;
  <font color="blue">constant </font>Real CKTvolttol =      1e-10;
  <font color="blue">constant </font>Real CKTtemptol =      1e-3;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SpiceConstants;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:29:46 2010.
</address></BODY>
</HTML>
