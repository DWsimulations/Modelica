<HTML>
<HEAD>
<TITLE>Modelica.Fluid.Fittings.GenericResistances</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Flow models for generic resistances&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE GenericResistances<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Fluid.Fittings.GenericResistances"></A><A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings"
>Modelica.Fluid.Fittings</A>.GenericResistances</H2>
<B>Flow models for generic resistances</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The geometry parameters of energy devices necessary for the pressure loss
calculations are often not exactly known. Therefore the modelling of the detailed
pressure loss calculation has to be simplified.
In this package components are present that provide different forms of
such approximations.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</A> (Icon for package containing variants).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRateS.png" ALT="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRate" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Fittings_GenericResistances.html#Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRate"
>VolumeFlowRate</A>
</TD><TD>Flow model for generic resistance parameterized with the volume flow rate</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VolumeFlowRate<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRateI.png" ALT="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRate"></A><A HREF="Modelica_Fluid_Fittings_GenericResistances.html#Modelica.Fluid.Fittings.GenericResistances"
>Modelica.Fluid.Fittings.GenericResistances</A>.VolumeFlowRate</H2>
<B>Flow model for generic resistance parameterized with the volume flow rate</B><p>
<IMG SRC="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRateD.png" ALT="Modelica.Fluid.Fittings.GenericResistances.VolumeFlowRate">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This component models a generic resistance parameterized
with the volume flow rate:
</p>

<pre>
    dp     = a*V_flow^2 + b*V_flow
    m_flow = rho*V_flow
</pre>

<p>
with
</p>

<table>
<tr><td><b> a              </b></td><td> as quadratic coefficient [Pa*s^2/m^6],</td></tr>
<tr><td><b> b              </b></td><td> as linear coefficient [Pa*s/m3],</td></tr>
<tr><td><b> dp             </b></td><td> as pressure loss [Pa],</td></tr>
<tr><td><b> m_flow         </b></td><td> as mass flow rate [kg/s],</td></tr>
<tr><td><b> rho            </b></td><td> as density of fluid [kg/m3],</td></tr>
<tr><td><b> V_flow         </b></td><td> as volume flow rate [m3/s].</td></tr>
</table>

<p>
The geometry parameters of energy devices necessary for the pressure loss calculations are often not exactly known. Therefore the modelling of the detailed pressure loss calculation has to be simplified. This components use a linear and a quadratic dependence of the pressure loss on the volume flow rate. It is assumed that neither mass nor energy is stored in this component.
In the model basically a function is called to compute the mass flow rate as a function
of pressure loss. Also the inverse of this function is defined, and a tool
might use this inverse function instead, in order to avoid the solution of a nonlinear equation.
</p>

<p>
The details of the model are described in the
<A HREF="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_General.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.General.dp_volumeFlowRate"
>documentation of the underlying function</a>.
</p>

<pre></PRE><P>
Extends from <A HREF="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.General_i"
>Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.General_i</A> (Icon for general pressure drop), <A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.PartialTwoPortTransport"
>Modelica.Fluid.Interfaces.PartialTwoPortTransport</A> (Partial element transporting fluid between two ports without storage of mass or energy).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>dp = a*V_flow^2 + b*V_flow</TD></TR>
<TR><TD>Real</TD><TD>a</TD><TD>&nbsp;</TD><TD>Coefficient for quadratic term [(Pa.s2)/m6]</TD></TR>
<TR><TD>Real</TD><TD>b</TD><TD>&nbsp;</TD><TD>Coefficient for linear term [(Pa.s)/m3]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>dp_start</TD><TD>0.01*system.p_start</TD><TD>Guess value of dp = port_a.p - port_b.p [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start</TD><TD>system.m_flow_start</TD><TD>Guess value of m_flow = port_a.m_flow [kg/s]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_small</TD><TD>system.m_flow_small</TD><TD>Small mass flow rate for regularization of zero flow [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_T</TD><TD>true</TD><TD>= true, if temperatures at port_a and port_b are computed</TD></TR>
<TR><TD>Boolean</TD><TD>show_V_flow</TD><TD>true</TD><TD>= true, if volume flow rate at inflowing port is computed</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b</TD><TD>Fluid connector b (positive design flow direction is from port_a to port_b)</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> VolumeFlowRate <font color="darkgreen">
  &quot;Flow model for generic resistance parameterized with the volume flow rate&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.General_i"
>Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.General_i</A>;
  <font color="blue">extends </font><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.PartialTwoPortTransport"
>Modelica.Fluid.Interfaces.PartialTwoPortTransport</A>;

  <font color="blue">parameter </font>Real a(unit=&quot;(Pa.s2)/m6&quot;) <font color="darkgreen">&quot;Coefficient for quadratic term&quot;</font>;
  <font color="blue">parameter </font>Real b(unit=&quot;(Pa.s)/m3&quot;) <font color="darkgreen">&quot;Coefficient for linear term&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>Medium.ThermodynamicState</A> state_dp_small=<font color="red">Medium.setState_pTX</font>(
                       Medium.reference_p,
                       Medium.reference_T,
                       Medium.reference_X) <font color="darkgreen">&quot;Medium state to compute dp_small&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>Medium.AbsolutePressure</A> dp_small=
             <font color="red">Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP</font>(
               <font color="red">Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con</font>(
                   a=a,
                   b=b,
                   dp_min=1e-10),
                <font color="red">Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var</font>(
                  rho=<font color="red">Medium.density</font>(state_dp_small)),
                m_flow_small) <font color="darkgreen">
    &quot;Default small pressure drop for regularization of laminar and zero flow (calculated from m_flow_small)&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Medium.Density</A> d_a <font color="darkgreen">
    &quot;Density at port_a when fluid is flowing from port_a to port_b&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Medium.Density</A> d_b <font color="darkgreen">
    &quot;If allowFlowReversal=true then Density at port_b when fluid is flowing from port_b to port_a else d_a&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Isenthalpic state transformation (no storage and no loss of energy)</font>
  port_a.h_outflow =<font color="red"> inStream</font>(port_b.h_outflow);
  port_b.h_outflow =<font color="red"> inStream</font>(port_a.h_outflow);

  <font color="darkgreen">// Medium properties</font>
  d_a =<font color="red"> Medium.density</font>(state_a);
  <font color="blue">if </font>allowFlowReversal<font color="blue"> then</font>
    d_b =<font color="red"> Medium.density</font>(state_b);
  <font color="blue">else</font>
    d_b = d_a;
  <font color="blue">end if</font>;

  <font color="blue">if </font>allowFlowReversal<font color="blue"> then</font>
     m_flow =<font color="red"> Modelica.Fluid.Fittings.BaseClasses.GenericResistances.VolumeFlowRate.massFlowRate</font>(
                dp, a, b, d_a, d_b, dp_small, m_flow_small);
  <font color="blue">else</font>
     m_flow =<font color="red"> Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_MFLOW</font>(
               <font color="red">Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con</font>(
                   a=a,
                   b=b,
                   dp_min=dp_small),
                <font color="red">Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var</font>(rho=d_a), dp);
  <font color="blue">end if</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VolumeFlowRate;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:18 2010.
</address></BODY>
</HTML>
