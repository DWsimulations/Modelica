<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.MultiBody.Forces.Internal</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Internal package, should not be used by user&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Internal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Forces.Internal"></A><A HREF="Modelica_Mechanics_MultiBody_Forces.html#Modelica.Mechanics.MultiBody.Forces"
>Modelica.Mechanics.MultiBody.Forces</A>.Internal</H2>
<B>Internal package, should not be used by user</B>
<P>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForceS.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForce" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal.BasicForce"
>BasicForce</A>
</TD><TD>Force acting between two frames, defined by 3 input signals</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorqueS.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorque" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorque"
>BasicTorque</A>
</TD><TD>Torque acting between two frames, defined by 3 input signals</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForceS.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForce" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForce"
>BasicWorldForce</A>
</TD><TD>External force acting at frame_b, defined by 3 input signals</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorqueS.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorque" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorque"
>BasicWorldTorque</A>
</TD><TD>External torque acting at frame_b, defined by 3 input signals</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.standardGravityAccelerationS.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.standardGravityAcceleration" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal.standardGravityAcceleration"
>standardGravityAcceleration</A>
</TD><TD>Standard gravity fields (no/parallel/point field)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BasicForce<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForceI.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForce" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForce"></A><A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal"
>Modelica.Mechanics.MultiBody.Forces.Internal</A>.BasicForce</H2>
<B>Force acting between two frames, defined by 3 input signals</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForceD.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicForce">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The <b>3</b> signals of the <b>force</b> connector are interpreted
as the x-, y- and z-coordinates of a <b>force</b> acting at the frame
connector to which frame_b of this component is attached.
Via parameter <b>resolveInFrame</b> it is defined, in which frame these
coordinates shall be resolved:
</p>

<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Types.ResolveInFrameAB.</b></th><th><b>Meaning</b></th></tr>
<tr><td valign="top">world</td>
    <td valign="top">Resolve input force in world frame</td></tr>

<tr><td valign="top">frame_a</td>
    <td valign="top">Resolve input force in frame_a</td></tr>

<tr><td valign="top">frame_b</td>
    <td valign="top">Resolve input force in frame_b (= default)</td></tr>

<tr><td valign="top">frame_resolve</td>
    <td valign="top">Resolve input force in frame_resolve (frame_resolve must be connected)</td></tr>
</table>

<p>
If resolveInFrame = ResolveInFrameAB.frame_resolve, the force coordinates
are with respect to the frame, that is connected to <b>frame_resolve</b>.
<p>

<p>
If resolveInFrame is not ResolveInFrameAB.frame_resolve, then the position
vector and the orientation object of frame_resolve must be set to constant
values from the outside in order that the model remains balanced
(these constant values are ignored).
</p>

<pre>
</PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames"
>Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames</A> (Base model for components providing two frame connectors + outer world + assert to guarantee that the component is connected).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>ResolveInFrameAB</A></TD><TD>resolveInFrame</TD><TD>Modelica.Mechanics.MultiBody...</TD><TD>Frame in which force is resolved (1: world, 2: frame_a, 3: frame_b, 4: frame_resolve)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Frame_b</A></TD><TD>frame_b</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Frame_resolve</A></TD><TD>frame_resolve</TD><TD>The input signals are optionally resolved in this frame</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>force[3]</TD><TD>x-, y-, z-coordinates of force resolved in frame defined by resolveInFrame [N]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BasicForce <font color="darkgreen">
  &quot;Force acting between two frames, defined by 3 input signals&quot;</font>

  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames"
>Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Interfaces.Frame_resolve</A> frame_resolve <font color="darkgreen">
    &quot;The input signals are optionally resolved in this frame&quot;</font>;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> force[3](<font color="blue">each </font><font color="blue">final </font>quantity=&quot;Force&quot;, <font color="blue">each </font><font color="blue">final </font>unit=
                 &quot;N&quot;) <font color="darkgreen">
    &quot;x-, y-, z-coordinates of force resolved in frame defined by resolveInFrame&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB</A>
    resolveInFrame=
    Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB.frame_b <font color="darkgreen">
    &quot;Frame in which force is resolved (1: world, 2: frame_a, 3: frame_b, 4: frame_resolve)&quot;</font>;

  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</A> r_0[3] <font color="darkgreen">
    &quot;Position vector from origin of frame_a to origin of frame_b resolved in world frame&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</A> f_b_0[3] <font color="darkgreen">&quot;frame_b.f resoved in world frame&quot;</font>;

<font color="blue">equation </font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_resolve) &gt; 0, &quot;Connector frame_resolve must be connected at least once and frame_resolve.r_0/.R must be set&quot;);
  frame_resolve.f =<font color="red"> zeros</font>(3);
  frame_resolve.t =<font color="red"> zeros</font>(3);

   <font color="blue">if </font>resolveInFrame == ResolveInFrameAB.frame_a<font color="blue"> then</font>
      f_b_0     = -<font color="red">Frames.resolve1</font>(frame_a.R, force);
      frame_b.f =<font color="red">  Frames.resolve2</font>(frame_b.R, f_b_0);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.frame_b<font color="blue"> then</font>
      f_b_0     = -<font color="red">Frames.resolve1</font>(frame_b.R, force);
      frame_b.f = -force;
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.world<font color="blue"> then</font>
      f_b_0     = -force;
      frame_b.f =<font color="red">  Frames.resolve2</font>(frame_b.R, f_b_0);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.frame_resolve<font color="blue"> then</font>
      f_b_0     = -<font color="red">Frames.resolve1</font>(frame_resolve.R, force);
      frame_b.f =<font color="red"> Frames.resolve2</font>(frame_b.R, f_b_0);
   <font color="blue">else</font>
    <font color="red">  assert</font>(false, &quot;Wrong value for parameter resolveInFrame&quot;);
      f_b_0     =<font color="red"> zeros</font>(3);
      frame_b.f =<font color="red"> zeros</font>(3);
   <font color="blue">end if</font>;
   frame_b.t =<font color="red"> zeros</font>(3);

  <font color="darkgreen"> // Force and torque balance</font>
   r_0 = frame_b.r_0 - frame_a.r_0;
  <font color="red"> zeros</font>(3) = frame_a.f +<font color="red"> Frames.resolve2</font>(frame_a.R, f_b_0);
  <font color="red"> zeros</font>(3) = frame_a.t +<font color="red"> Frames.resolve2</font>(frame_a.R,<font color="red"> cross</font>(r_0, f_b_0));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BasicForce;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BasicTorque<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorqueI.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorque" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorque"></A><A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal"
>Modelica.Mechanics.MultiBody.Forces.Internal</A>.BasicTorque</H2>
<B>Torque acting between two frames, defined by 3 input signals</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorqueD.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicTorque">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The <b>3</b> signals of the <b>torque</b> connector are interpreted
as the x-, y- and z-coordinates of a <b>torque</b> acting at the frame
connector to which frame_b of this component is attached.
Via parameter <b>resolveInFrame</b> it is defined, in which frame these
coordinates shall be resolved:
</p>

<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Types.ResolveInFrameAB.</b></th><th><b>Meaning</b></th></tr>
<tr><td valign="top">world</td>
    <td valign="top">Resolve input torque in world frame</td></tr>

<tr><td valign="top">frame_a</td>
    <td valign="top">Resolve input torque in frame_a</td></tr>

<tr><td valign="top">frame_b</td>
    <td valign="top">Resolve input torque in frame_b (= default)</td></tr>

<tr><td valign="top">frame_resolve</td>
    <td valign="top">Resolve input torque in frame_resolve (frame_resolve must be connected)</td></tr>
</table>

<p>
If resolveInFrame = ResolveInFrameAB.frame_resolve, the torque coordinates
are with respect to the frame, that is connected to <b>frame_resolve</b>.
<p>

<p>
If resolveInFrame is not ResolveInFrameAB.frame_resolve, then the position
vector and the orientation object of frame_resolve must be set to constant
values from the outside in order that the model remains balanced
(these constant values are ignored).
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames"
>Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames</A> (Base model for components providing two frame connectors + outer world + assert to guarantee that the component is connected).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>ResolveInFrameAB</A></TD><TD>resolveInFrame</TD><TD>Modelica.Mechanics.MultiBody...</TD><TD>Frame in which torque is resolved (1: world, 2: frame_a, 3: frame_b, 4: frame_resolve)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Frame_b</A></TD><TD>frame_b</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Frame_resolve</A></TD><TD>frame_resolve</TD><TD>The input signals are optionally resolved in this frame</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>torque[3]</TD><TD>x-, y-, z-coordiantes of torque resolved in frame defined by resolveInFrame [N.m]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BasicTorque <font color="darkgreen">
  &quot;Torque acting between two frames, defined by 3 input signals&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames"
>Modelica.Mechanics.MultiBody.Interfaces.PartialTwoFrames</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Interfaces.Frame_resolve</A> frame_resolve <font color="darkgreen">
    &quot;The input signals are optionally resolved in this frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> torque[3](<font color="blue">each </font><font color="blue">final </font>quantity=&quot;Torque&quot;, <font color="blue">each </font><font color="blue">final </font>unit=
                 &quot;N.m&quot;) <font color="darkgreen">
    &quot;x-, y-, z-coordiantes of torque resolved in frame defined by resolveInFrame&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB</A>
    resolveInFrame=
    Modelica.Mechanics.MultiBody.Types.ResolveInFrameAB.frame_b <font color="darkgreen">
    &quot;Frame in which torque is resolved (1: world, 2: frame_a, 3: frame_b, 4: frame_resolve)&quot;</font>;

  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r_0[3] <font color="darkgreen">
    &quot;Position vector from origin of frame_a to origin of frame_b resolved in world frame&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Torque"
>SI.Torque</A> t_b_0[3] <font color="darkgreen">&quot;frame_b.t resoved in world frame&quot;</font>;

<font color="blue">equation </font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_resolve) &gt; 0, &quot;Connector frame_resolve must be connected at least once and frame_resolve.r_0/.R must be set&quot;);
  frame_resolve.f =<font color="red"> zeros</font>(3);
  frame_resolve.t =<font color="red"> zeros</font>(3);

  r_0 = frame_b.r_0 - frame_a.r_0;
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_b.f =<font color="red"> zeros</font>(3);

   <font color="blue">if </font>resolveInFrame == ResolveInFrameAB.frame_a<font color="blue"> then</font>
      t_b_0     = -<font color="red">Frames.resolve1</font>(frame_a.R, torque);
      frame_b.t =<font color="red">  Frames.resolve2</font>(frame_b.R, t_b_0);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.frame_b<font color="blue"> then</font>
      t_b_0     = -<font color="red">Frames.resolve1</font>(frame_b.R, torque);
      frame_b.t = -torque;
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.world<font color="blue"> then</font>
      t_b_0     = -torque;
      frame_b.t =<font color="red">  Frames.resolve2</font>(frame_b.R, t_b_0);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameAB.frame_resolve<font color="blue"> then</font>
      t_b_0     = -<font color="red">Frames.resolve1</font>(frame_resolve.R, torque);
      frame_b.t =<font color="red">  Frames.resolve2</font>(frame_b.R, t_b_0);
   <font color="blue">else</font>
    <font color="red">  assert</font>(false, &quot;Wrong value for parameter resolveInFrame&quot;);
      t_b_0     =<font color="red"> zeros</font>(3);
      frame_b.t =<font color="red"> zeros</font>(3);
   <font color="blue">end if</font>;

  <font color="darkgreen"> // torque balance</font>
  <font color="red"> zeros</font>(3) = frame_a.t +<font color="red"> Frames.resolve2</font>(frame_a.R, t_b_0);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BasicTorque;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BasicWorldForce<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForceI.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForce" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForce"></A><A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal"
>Modelica.Mechanics.MultiBody.Forces.Internal</A>.BasicWorldForce</H2>
<B>External force acting at frame_b, defined by 3 input signals</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForceD.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldForce">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The 3 signals of the <b>force</b> connector are interpreted
as the x-, y- and z-coordinates of a <b>force</b> acting at the frame
connector to which this component is attached.
Via parameter <b>resolveInFrame</b> it is defined, in which frame these
coordinates shall be resolved:
</p>

<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Types.ResolveInFrameB.</b></th><th><b>Meaning</b></th></tr>
<tr><td valign="top">world</td>
    <td valign="top">Resolve input force in world frame (= default)</td></tr>

<tr><td valign="top">frame_b</td>
    <td valign="top">Resolve input force in frame_b</td></tr>

<tr><td valign="top">frame_resolve</td>
    <td valign="top">Resolve input force in frame_resolve (frame_resolve must be connected)</td></tr>
</table>

<p>
If resolveInFrame = Types.ResolveInFrameB.frame_resolve, the force coordinates
are with respect to the frame, that is connected to <b>frame_resolve</b>.
<p>

<p>
If resolveInFrame is not Types.ResolveInFrameB.frame_resolve, then the position
vector and the orientation object of frame_resolve must be set to constant
values from the outside in order that the model remains balanced
(these constant values are ignored).
</p>

<pre>
</PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialOneFrame_b"
>Interfaces.PartialOneFrame_b</A> (Base model for components providing one frame_b connector + outer world + assert to guarantee that the component is connected).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>ResolveInFrameB</A></TD><TD>resolveInFrame</TD><TD>Modelica.Mechanics.MultiBody...</TD><TD>Frame in which force is resolved (1: world, 2: frame_b, 3: frame_resolve)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Frame_b</A></TD><TD>frame_b</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Frame_resolve</A></TD><TD>frame_resolve</TD><TD>The input signals are optionally resolved in this frame</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>force[3]</TD><TD>x-, y-, z-coordinates of force resolved in frame defined by resolveInFrame [N]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BasicWorldForce <font color="darkgreen">
  &quot;External force acting at frame_b, defined by 3 input signals&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameB</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialOneFrame_b"
>Interfaces.PartialOneFrame_b</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Interfaces.Frame_resolve</A> frame_resolve <font color="darkgreen">
    &quot;The input signals are optionally resolved in this frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> force[3](<font color="blue">each </font><font color="blue">final </font>quantity=&quot;Force&quot;, <font color="blue">each </font><font color="blue">final </font>unit=
                 &quot;N&quot;) <font color="darkgreen">
    &quot;x-, y-, z-coordinates of force resolved in frame defined by resolveInFrame&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameB</A>
    resolveInFrame=
    Modelica.Mechanics.MultiBody.Types.ResolveInFrameB.world <font color="darkgreen">
    &quot;Frame in which force is resolved (1: world, 2: frame_b, 3: frame_resolve)&quot;</font>;

<font color="blue">equation </font>
  <font color="red"> assert</font>(<font color="red">cardinality</font>(frame_resolve) &gt; 0, &quot;Connector frame_resolve must be connected at least once and frame_resolve.r_0/.R must be set&quot;);
   frame_resolve.f =<font color="red"> zeros</font>(3);
   frame_resolve.t =<font color="red"> zeros</font>(3);

   <font color="blue">if </font>resolveInFrame == ResolveInFrameB.world<font color="blue"> then</font>
      frame_b.f = -<font color="red">Frames.resolve2</font>(frame_b.R, force);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameB.frame_b<font color="blue"> then</font>
      frame_b.f = -force;
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameB.frame_resolve<font color="blue"> then</font>
      frame_b.f = -<font color="red">Frames.resolveRelative</font>(force, frame_resolve.R, frame_b.R);
   <font color="blue">else</font>
    <font color="red">  assert</font>(false, &quot;Wrong value for parameter resolveInFrame&quot;);
      frame_b.f =<font color="red"> zeros</font>(3);
   <font color="blue">end if</font>;
   frame_b.t =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BasicWorldForce;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BasicWorldTorque<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorqueI.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorque" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorque"></A><A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal"
>Modelica.Mechanics.MultiBody.Forces.Internal</A>.BasicWorldTorque</H2>
<B>External torque acting at frame_b, defined by 3 input signals</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorqueD.png" ALT="Modelica.Mechanics.MultiBody.Forces.Internal.BasicWorldTorque">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The 3 signals of the <b>torque</b> connector are interpreted
as the x-, y- and z-coordinates of a <b>torque</b> acting at the frame
connector to which this component is attached.
Via parameter <b>resolveInFrame</b> it is defined, in which frame these
coordinates shall be resolved:
</p>

<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Types.ResolveInFrameB.</b></th><th><b>Meaning</b></th></tr>
<tr><td valign="top">world</td>
    <td valign="top">Resolve input torque in world frame (= default)</td></tr>

<tr><td valign="top">frame_b</td>
    <td valign="top">Resolve input torque in frame_b</td></tr>

<tr><td valign="top">frame_resolve</td>
    <td valign="top">Resolve input torque in frame_resolve (frame_resolve must be connected)</td></tr>
</table>

<p>
If resolveInFrame = Types.ResolveInFrameB.frame_resolve, the torque coordinates
are with respect to the frame, that is connected to <b>frame_resolve</b>.
<p>

<p>
If resolveInFrame is not Types.ResolveInFrameB.frame_resolve, then the position
vector and the orientation object of frame_resolve must be set to constant
values from the outside in order that the model remains balanced
(these constant values are ignored).
</p>

<pre>
</PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialOneFrame_b"
>Interfaces.PartialOneFrame_b</A> (Base model for components providing one frame_b connector + outer world + assert to guarantee that the component is connected).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>ResolveInFrameB</A></TD><TD>resolveInFrame</TD><TD>Modelica.Mechanics.MultiBody...</TD><TD>Frame in which torque is resolved (1: world, 2: frame_b, 3: frame_resolve)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Frame_b</A></TD><TD>frame_b</TD><TD>Coordinate system fixed to the component with one cut-force and cut-torque</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Frame_resolve</A></TD><TD>frame_resolve</TD><TD>The input signals are optionally resolved in this frame</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>torque[3]</TD><TD>x-, y-, z-coordinates of torque resolved in frame defined by resolveInFrame [N.m]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BasicWorldTorque <font color="darkgreen">
  &quot;External torque acting at frame_b, defined by 3 input signals&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameB</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialOneFrame_b"
>Interfaces.PartialOneFrame_b</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_resolve"
>Interfaces.Frame_resolve</A> frame_resolve <font color="darkgreen">
    &quot;The input signals are optionally resolved in this frame&quot;</font>;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> torque[3](<font color="blue">each </font><font color="blue">final </font>quantity=&quot;Torque&quot;, <font color="blue">each </font><font color="blue">final </font>unit=
                 &quot;N.m&quot;) <font color="darkgreen">
    &quot;x-, y-, z-coordinates of torque resolved in frame defined by resolveInFrame&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ResolveInFrameB"
>Modelica.Mechanics.MultiBody.Types.ResolveInFrameB</A>
    resolveInFrame=
    Modelica.Mechanics.MultiBody.Types.ResolveInFrameB.world <font color="darkgreen">
    &quot;Frame in which torque is resolved (1: world, 2: frame_b, 3: frame_resolve)&quot;</font>;

<font color="blue">equation </font>
  <font color="red"> assert</font>(<font color="red">cardinality</font>(frame_resolve) &gt; 0, &quot;Connector frame_resolve must be connected at least once and frame_resolve.r_0/.R must be set&quot;);
   frame_resolve.f =<font color="red"> zeros</font>(3);
   frame_resolve.t =<font color="red"> zeros</font>(3);

   <font color="blue">if </font>resolveInFrame == ResolveInFrameB.world<font color="blue"> then</font>
      frame_b.t = -<font color="red">Frames.resolve2</font>(frame_b.R, torque);
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameB.frame_b<font color="blue"> then</font>
      frame_b.t = -torque;
   <font color="blue">elseif </font>resolveInFrame == ResolveInFrameB.frame_resolve<font color="blue"> then</font>
      frame_b.t = -<font color="red">Frames.resolveRelative</font>(torque, frame_resolve.R, frame_b.R);
   <font color="blue">else</font>
    <font color="red">  assert</font>(false, &quot;Wrong value for parameter resolveInFrame&quot;);
      frame_b.t =<font color="red"> zeros</font>(3);
   <font color="blue">end if</font>;
   frame_b.f =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BasicWorldTorque;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE standardGravityAcceleration<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Forces.Internal.standardGravityAcceleration"></A><A HREF="Modelica_Mechanics_MultiBody_Forces_Internal.html#Modelica.Mechanics.MultiBody.Forces.Internal"
>Modelica.Mechanics.MultiBody.Forces.Internal</A>.standardGravityAcceleration</H2>
<B>Standard gravity fields (no/parallel/point field)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This function defines the standard gravity fields for the World object.
</p>

<table border=1 cellspacing=0 cellpadding=2>
<tr><td><b><i>gravityType</i></b></td>
    <td><b><i>gravity [m/s2]</i></b></td>
    <td><b><i>description</i></b></td></tr>
<tr><td>Types.GravityType.NoGravity</td>
    <td>= {0,0,0}</td>
    <td>No gravity</td></tr>

<tr><td>Types.GravityType.UniformGravity</td>
    <td>= g</td>
    <td> Constant parallel gravity field</td></tr>

<tr><td>Types.GravityType.PointGravity</td>
    <td>= -(mue/(r*r))*r/|r|</td>
    <td> Point gravity field with spherical mass</td></tr>
</table>

<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.partialGravityAcceleration"
>Modelica.Mechanics.MultiBody.Interfaces.partialGravityAcceleration</A>.
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>r[3]</TD><TD>&nbsp;</TD><TD>Position vector from world frame to actual point, resolved in world frame [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.GravityTypes"
>GravityTypes</A></TD><TD>gravityType</TD><TD>&nbsp;</TD><TD>Type of gravity field</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</A></TD><TD>g[3]</TD><TD>&nbsp;</TD><TD>Constant gravity acceleration, resolved in world frame, if gravityType=UniformGravity [m/s2]</TD></TR>
<TR><TD>Real</TD><TD>mue</TD><TD>&nbsp;</TD><TD>Field constant of point gravity field, if gravityType=PointGravity [m3/s2]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</A></TD><TD>gravity[3]</TD><TD>Gravity acceleration at position r, resolved in world frame [m/s2]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> standardGravityAcceleration <font color="darkgreen">
  &quot;Standard gravity fields (no/parallel/point field)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.partialGravityAcceleration"
>Modelica.Mechanics.MultiBody.Interfaces.partialGravityAcceleration</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.GravityTypes"
>Modelica.Mechanics.MultiBody.Types.GravityTypes</A>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.GravityTypes"
>GravityTypes</A> gravityType <font color="darkgreen">&quot;Type of gravity field&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</A> g[3] <font color="darkgreen">
    &quot;Constant gravity acceleration, resolved in world frame, if gravityType=UniformGravity&quot;</font>;
  <font color="blue">input </font>Real mue(unit=&quot;m3/s2&quot;) <font color="darkgreen">
    &quot;Field constant of point gravity field, if gravityType=PointGravity&quot;</font>;
<font color="blue">algorithm </font>
gravity := <font color="blue">if </font>gravityType == GravityTypes.UniformGravity<font color="blue"> then </font>g<font color="blue"> else </font>
           <font color="blue">if </font>gravityType == GravityTypes.PointGravity<font color="blue"> then </font>
              -(mue/(r*r))*(r/<font color="red">Modelica.Math.Vectors.length</font>(r))<font color="blue"> else </font><font color="red">zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>standardGravityAcceleration;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:30:27 2010.
</address></BODY>
</HTML>
