<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.MultiBody.Visualizers</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;3-dimensional visual objects used for animation&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Visualizers<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Visualizers"></A><A HREF="Modelica_Mechanics_MultiBody.html#Modelica.Mechanics.MultiBody"
>Modelica.Mechanics.MultiBody</A>.Visualizers</H2>
<B>3-dimensional visual objects used for animation</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Package <b>Visualizers</b> contains components to visualize
3-dimensional shapes. These components are the basis for the
animation features of the MultiBody library.
<p>
<h4>Content</h4>
<table border=1 cellspacing=0 cellpadding=2>
  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedShape"
>FixedShape</a><br>
             <A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedShape2"
>FixedShape2</a></td>
      <td valign="top">Visualizing an elementary shape with dynamically varying shape attributes.
      FixedShape has one connector frame_a, whereas FixedShape2 has additionally
          a frame_b for easier connection to further visual objects.
          The following shape types are supported:<br>&nbsp;<br>
      <IMG src="../Resources/Images/MultiBody/FixedShape.png" ALT="model Visualizers.FixedShape">
      </td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedFrame"
>FixedFrame</a></td>
      <td valign="top">Visualizing a coordinate system including axes labels with fixed sizes:<br>
      <IMG src="../Resources/Images/MultiBody/FixedFrame2.png"
       ALT="model Visualizers.FixedFrame">
      </td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedArrow"
>FixedArrow</a>,<br>
<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.SignalArrow"
>SignalArrow</a></td>
      <td valign="top">Visualizing an arrow. Model "FixedArrow" provides
      a fixed sized arrow, model "SignalArrow" provides
      an arrow with dynamically varying length that is defined
      by an input signal vector:<br>
      <IMG src="../Resources/Images/MultiBody/Visualizers/Arrow.png">
      </td>
  </tr>

  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.Ground"
>Ground</a></td>
      <td valign="top">Visualizing the x-y plane by a box:<br>
      <IMG src="../Resources/Images/MultiBody/Visualizers/GroundSmall.png">
      </td>
  </tr>

  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.Torus"
>Torus</a></td>
      <td valign="top">Visualizing a torus:<br>
      <IMG src="../Resources/Images/MultiBody/Visualizers/TorusIcon.png">
      </td>
  </tr>

  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel"
>VoluminousWheel</a></td>
      <td valign="top">Visualizing a wheel:<br>
      <IMG src="../Resources/Images/MultiBody/Visualizers/VoluminousWheelIcon.png">
      </td>
  </tr>

  <tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField"
>PipeWithScalarField</a></td>
      <td valign="top">Visualizing a pipe with a scalar field represented by a color coding:<br>
      <IMG src="../Resources/Images/MultiBody/Visualizers/PipeWithScalarFieldIcon.png">
      </td>
  </tr>

<tr><td valign="top"><A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced"
>Advanced</a></td>
      <td valign="top"> <b>Package</b> that contains components to visualize
          3-dimensional shapes where all parts of the shape
          can vary dynamically. Basic knowledge of Modelica is
          needed in order to utilize the components of this package.
      </td>
  </tr>
</table>
<p>
The colors of the visualization components are declared with
the predefined type <b>MultiBody.Types.Color</b>.
This is a vector with 3 elements,
{r, g, b}, and specifies the color of the shape.
{r,g,b} are the "red", "green" and "blue" color parts.
Note, r g, b are given as Integer[3] in the ranges 0 .. 255,
respectively.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShapeS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedShape"
>FixedShape</A>
</TD><TD>Visualizing an elementary shape with dynamically varying shape attributes (has one frame connector)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2S.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedShape2"
>FixedShape2</A>
</TD><TD>Visualizing an elementary shape with dynamically varying shape attributes (has two frame connectors)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedFrameS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedFrame" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedFrame"
>FixedFrame</A>
</TD><TD>Visualizing a coordinate system including axes labels (visualization data may vary dynamically)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedArrowS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedArrow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedArrow"
>FixedArrow</A>
</TD><TD>Visualizing an arrow with dynamically varying size in frame_a</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.SignalArrowS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.SignalArrow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.SignalArrow"
>SignalArrow</A>
</TD><TD>Visualizing an arrow with dynamically varying size in frame_a based on input signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.GroundS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Ground" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.Ground"
>Ground</A>
</TD><TD>Visualizing the ground (box in z=0)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.TorusS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Torus" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.Torus"
>Torus</A>
</TD><TD>Visualizing a torus</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheelS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel"
>VoluminousWheel</A>
</TD><TD>Visualizing a voluminous wheel</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarFieldS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField"
>PipeWithScalarField</A>
</TD><TD>Visualizing a pipe with scalar field quantities along the pipe axis</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.ColorsS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Colors" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Colors.html#Modelica.Mechanics.MultiBody.Visualizers.Colors"
>Colors</A>
</TD><TD>Library of functions operating on color</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.ColorsS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Advanced" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced"
>Advanced</A>
</TD><TD>Visualizers that require basic knowledge about Modelica in order to use them</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.ColorsS.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Internal" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal"
>Internal</A>
</TD><TD>Visualizers that will be replaced by improved versions in the future (don&#39;t use them)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedShape<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShapeI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.FixedShape"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.FixedShape</H2>
<B>Visualizing an elementary shape with dynamically varying shape attributes (has one frame connector)</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShapeD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>FixedShape</b> defines a visual shape that is
shown at the location of its frame_a.
All describing data such as size and color can vary dynamically by
providing appropriate expressions in the input fields of the
parameter menu. The only exception is parameter shapeType
that cannot be changed during simulation.
The following shapes are currently supported via
parameter <b>shapeType</b> (e.g., shapeType="box"):<br>&nbsp;
</p>
<IMG src="../Resources/Images/MultiBody/Shape.png" ALT="model Visualizers.FixedShape">
<p>&nbsp;<br>
The dark blue arrows in the figure above are directed along
variable <b>lengthDirection</b>. The light blue arrows are directed
along variable <b>widthDirection</b>. The <b>coordinate systems</b>
in the figure represent frame_a of the FixedShape component.
</p>
<p>
Additionally external shapes are specified as DXF-files
(only 3-dim.Face is supported). External shapes must be named "1", "2"
etc.. The corresponding definitions should be in files "1.dxf",
"2.dxf" etc.Since the DXF-files contain color and dimensions for
the individual faces, the corresponding information in the model
is currently ignored. The DXF-files must be found in the current directory.
</p>
<p>
The sizes of any of the above components are specified by the
<b>length</b>, <b>width</b> and <b>height</b> variables.
Via variable <b>extra</b> additional data can be defined:
</p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>shapeType</b></th><th>Meaning of parameter <b>extra</b></th></tr>
<tr>
  <td valign="top">"cylinder"</td>
  <td valign="top">if extra &gt; 0, a black line is included in the
      cylinder to show the rotation of it.</td>
</tr>
<tr>
  <td valign="top">"cone"</td>
  <td valign="top">extra = diameter-left-side / diameter-right-side, i.e.,<br>
      extra = 1: cylinder<br>
      extra = 0: "real" cone.</td>
</tr>
<tr>
  <td valign="top">"pipe"</td>
  <td valign="top">extra = outer-diameter / inner-diameter, i.e, <br>
      extra = 1: cylinder that is completely hollow<br>
      extra = 0: cylinder without a hole.</td>
</tr>
<tr>
  <td valign="top">"gearwheel"</td>
  <td valign="top">extra is the number of teeth of the (external) gear.
If extra &lt; 0, an internal gear is visualized with |extra| teeth.
The axis of the gearwheel is along "lengthDirection", and usually:
width = height = 2*radiusOfGearWheel.</td>
</tr>
<tr>
  <td valign="top">"spring"</td>
  <td valign="top">extra is the number of windings of the spring.
      Additionally, "height" is <b>not</b> the "height" but
      2*coil-width.</td>
</tr>
</table>
<p>
Parameter <b>color</b> is a vector with 3 elements,
{r, g, b}, and specifies the color of the shape.
{r,g,b} are the "red", "green" and "blue" color parts.
Note, r g, b are given as Integer[3] in the ranges 0 .. 255,
respectively. The predefined type
<b>MultiBody.Types.Color</b> contains a temporary menu
definition of the colors used in the MultiBody library
(this will be replaced by a color editor).
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>if animation = true</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeType"
>ShapeType</A></TD><TD>shapeType</TD><TD>&quot;box&quot;</TD><TD>Type of shape</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>r_shape[3]</TD><TD>{0,0,0}</TD><TD>Vector from frame_a to shape origin, resolved in frame_a [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Axis</A></TD><TD>lengthDirection</TD><TD>{1,0,0}</TD><TD>Vector in length direction of shape, resolved in frame_a [1]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Axis</A></TD><TD>widthDirection</TD><TD>{0,1,0}</TD><TD>Vector in width direction of shape, resolved in frame_a [1]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>length</TD><TD>&nbsp;</TD><TD>Length of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>width</TD><TD>&nbsp;</TD><TD>Width of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>height</TD><TD>&nbsp;</TD><TD>Height of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color</TD><TD>{0,128,255}</TD><TD>Color of shape</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeExtra"
>ShapeExtra</A></TD><TD>extra</TD><TD>0.0</TD><TD>Additional data for cylinder, cone, pipe, gearwheel and spring</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>world.defaultSpecularCoeffic...</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FixedShape <font color="darkgreen">
  &quot;Visualizing an elementary shape with dynamically varying shape attributes (has one frame connector)&quot;</font>
  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types"
>Modelica.Mechanics.MultiBody.Types</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;

  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeType"
>Types.ShapeType</A> shapeType=&quot;box&quot; <font color="darkgreen">&quot;Type of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r_shape[3]={0,0,0} <font color="darkgreen">
    &quot;Vector from frame_a to shape origin, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Types.Axis</A> lengthDirection={1,0,0} <font color="darkgreen">
    &quot;Vector in length direction of shape, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Types.Axis</A> widthDirection={0,1,0} <font color="darkgreen">
    &quot;Vector in width direction of shape, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> length(start=1) <font color="darkgreen">&quot;Length of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> width(start=0.1) <font color="darkgreen">&quot;Width of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> height(start=0.1) <font color="darkgreen">&quot;Height of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Modelica.Mechanics.MultiBody.Types.Color</A> color={0,128,255} <font color="darkgreen">
    &quot;Color of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeExtra"
>Types.ShapeExtra</A> extra=0.0 <font color="darkgreen">
    &quot;Additional data for cylinder, cone, pipe, gearwheel and spring&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = world.defaultSpecularCoefficient <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;

<font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Advanced.Shape</A> vis(
    shapeType=shapeType,
    r_shape=r_shape,
    lengthDirection=lengthDirection,
    widthDirection=widthDirection,
    length=length,
    width=width,
    height=height,
    color=color,
    extra=extra,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;
<font color="blue">equation </font>
  <font color="darkgreen">// No forces and torques</font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedShape;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedShape2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2I.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.FixedShape2</H2>
<B>Visualizing an elementary shape with dynamically varying shape attributes (has two frame connectors)</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2D.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedShape2">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>FixedShape2</b> defines a visual shape that is
shown at the location of its frame_a. This model is identical
to <b>FixedShape</b> with the only difference that an
additional frame_b is present which is parallel to frame_a.
This makes it more convenient to connect several visual
shapes together when building up more complex visual
objects. All describing data such as size and color can vary dynamically by
providing appropriate expressions in the input fields of the
parameter menu. The only exception is parameter shapeType
that cannot be changed during simulation.
The following shapes are currently supported via
parameter <b>shapeType</b> (e.g., shapeType="box"):<br>&nbsp;
</p>
<IMG src="../Resources/Images/MultiBody/Shape.png" ALT="model Visualizers.FixedShape2">
<p>&nbsp;<br>
The dark blue arrows in the figure above are directed along
variable <b>lengthDirection</b>. The light blue arrows are directed
along variable <b>widthDirection</b>. The <b>coordinate systems</b>
in the figure represent frame_a of the FixedShape component.
</p>
<p>
Additionally external shapes are specified as DXF-files
(only 3-dim.Face is supported). External shapes must be named "1", "2"
etc.. The corresponding definitions should be in files "1.dxf",
"2.dxf" etc.Since the DXF-files contain color and dimensions for
the individual faces, the corresponding information in the model
is currently ignored. The DXF-files must be found in the current directory.
</p>
<p>
The sizes of any of the above components are specified by the
<b>length</b>, <b>width</b> and <b>height</b> variables.
Via variable <b>extra</b> additional data can be defined:
</p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>shapeType</b></th><th>Meaning of parameter <b>extra</b></th></tr>
<tr>
  <td valign="top">"cylinder"</td>
  <td valign="top">if extra &gt; 0, a black line is included in the
      cylinder to show the rotation of it.</td>
</tr>
<tr>
  <td valign="top">"cone"</td>
  <td valign="top">extra = diameter-left-side / diameter-right-side, i.e.,<br>
      extra = 1: cylinder<br>
      extra = 0: "real" cone.</td>
</tr>
<tr>
  <td valign="top">"pipe"</td>
  <td valign="top">extra = outer-diameter / inner-diameter, i.e, <br>
      extra = 1: cylinder that is completely hollow<br>
      extra = 0: cylinder without a hole.</td>
</tr>
<tr>
  <td valign="top">"gearwheel"</td>
  <td valign="top">extra is the number of teeth of the (external) gear.
If extra &lt; 0, an internal gear is visualized with |extra| teeth.
The axis of the gearwheel is along "lengthDirection", and usually:
width = height = 2*radiusOfGearWheel.</td>
</tr>
<tr>
  <td valign="top">"spring"</td>
  <td valign="top">extra is the number of windings of the spring.
      Additionally, "height" is <b>not</b> the "height" but
      2*coil-width.</td>
</tr>
</table>
<p>
Parameter <b>color</b> is a vector with 3 elements,
{r, g, b}, and specifies the color of the shape.
{r,g,b} are the "red", "green" and "blue" color parts.
Note, r g, b are given as Integer[3] in the ranges 0 .. 255,
respectively. The predefined type
<b>MultiBody.Types.Color</b> contains a temporary menu
definition of the colors used in the MultiBody library
(this will be replaced by a color editor).
</p>
<p>
In the following figure the relationships between
frame_a and frame_b are shown. The origin of frame_b
with respect to frame_a is specified via parameter
vector <b>r</b>.
</p>
<IMG src="../Resources/Images/MultiBody/FixedTranslation.png" ALT="Parts.FixedTranslation">
<pre>
</PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>if animation = true</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeType"
>ShapeType</A></TD><TD>shapeType</TD><TD>&quot;box&quot;</TD><TD>Type of shape</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>r_shape[3]</TD><TD>{0,0,0}</TD><TD>Vector from frame_a to shape origin, resolved in frame_a [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Axis</A></TD><TD>lengthDirection</TD><TD>r - r_shape</TD><TD>Vector in length direction of shape, resolved in frame_a [1]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Axis</A></TD><TD>widthDirection</TD><TD>{0,1,0}</TD><TD>Vector in width direction of shape, resolved in frame_a [1]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>length</TD><TD>Modelica.Math.Vectors.length...</TD><TD>Length of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>width</TD><TD>0.1</TD><TD>Width of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>height</TD><TD>width</TD><TD>Height of shape [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeExtra"
>ShapeExtra</A></TD><TD>extra</TD><TD>0.0</TD><TD>Additional data for cylinder, cone, pipe, gearwheel and spring</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color</TD><TD>{0,128,255}</TD><TD>Color of shape</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>world.defaultSpecularCoeffic...</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system a (all shape definition vectors are resolved in this frame)</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Frame_b</A></TD><TD>frame_b</TD><TD>Coordinate system b</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FixedShape2 <font color="darkgreen">
  &quot;Visualizing an elementary shape with dynamically varying shape attributes (has two frame connectors)&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Frames.html#Modelica.Mechanics.MultiBody.Frames"
>Modelica.Mechanics.MultiBody.Frames</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types"
>Modelica.Mechanics.MultiBody.Types</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Interfaces.Frame_a</A> frame_a <font color="darkgreen">
    &quot;Coordinate system a (all shape definition vectors are resolved in this frame)&quot;</font>;
  <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_b"
>Interfaces.Frame_b</A> frame_b <font color="darkgreen">&quot;Coordinate system b&quot;</font>;</textblock>

  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeType"
>Types.ShapeType</A> shapeType=&quot;box&quot; <font color="darkgreen">&quot;Type of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r[3]={1,0,0} <font color="darkgreen">
    &quot;Vector from frame_a to frame_b resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r_shape[3]={0,0,0} <font color="darkgreen">
    &quot;Vector from frame_a to shape origin, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Types.Axis</A> lengthDirection=r - r_shape <font color="darkgreen">
    &quot;Vector in length direction of shape, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Types.Axis</A> widthDirection={0,1,0} <font color="darkgreen">
    &quot;Vector in width direction of shape, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> length=<font color="red">Modelica.Math.Vectors.length</font>(
                                       r - r_shape) <font color="darkgreen">&quot;Length of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> width=0.1 <font color="darkgreen">&quot;Width of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> height=width <font color="darkgreen">&quot;Height of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.ShapeExtra"
>Types.ShapeExtra</A> extra=0.0 <font color="darkgreen">
    &quot;Additional data for cylinder, cone, pipe, gearwheel and spring&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Types.Color</A> color={0,128,255} <font color="darkgreen">&quot;Color of shape&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = world.defaultSpecularCoefficient <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="Modelica_Mechanics_MultiBody.html#Modelica.Mechanics.MultiBody.World"
>MultiBody.World</A> world;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Advanced.Shape</A> shape(
    shapeType=shapeType,
    r_shape=r_shape,
    lengthDirection=lengthDirection,
    widthDirection=widthDirection,
    length=length,
    width=width,
    height=height,
    extra=extra,
    color=color,
    specularCoefficient = specularCoefficient,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;
<font color="blue">equation </font>
  <font color="red">Connections.branch</font>(frame_a.R, frame_b.R);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0<font color="blue"> or </font><font color="red">cardinality</font>(frame_b) &gt; 0, &quot;Neither connector frame_a nor frame_b of
MultiBody.Visualizers.FixedShape2 object is connected&quot;);

  frame_b.r_0 = frame_a.r_0 +<font color="red"> Frames.resolve1</font>(frame_a.R, r);
  frame_b.R = frame_a.R;

  <font color="darkgreen">/* Force and torque balance */</font>
  <font color="red">zeros</font>(3) = frame_a.f + frame_b.f;
  <font color="red">zeros</font>(3) = frame_a.t + frame_b.t +<font color="red"> cross</font>(r, frame_b.f);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedShape2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedFrame<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedFrameI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedFrame" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.FixedFrame"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.FixedFrame</H2>
<B>Visualizing a coordinate system including axes labels (visualization data may vary dynamically)</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedFrameD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedFrame">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>FixedFrame</b> visualizes the three axes of
its coordinate system <b>frame_a</b> together with appropriate axes
labels. A typical example is shown in the following figure:
<br>&nbsp;
</p>
<IMG src="../Resources/Images/MultiBody/FixedFrame.png" ALT="model Visualizers.FixedFrame">
<p>
The sizes of the axes, the axes colors and the specular coefficient
(= reflection factor for
ambient light) can vary dynamically by
providing appropriate expressions in the input fields of the
parameter menu.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>if animation = true</TD></TR>
<TR><TD>Boolean</TD><TD>showLabels</TD><TD>true</TD><TD>= true, if labels shall be shown</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>length</TD><TD>0.5</TD><TD>Length of axes arrows [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</A></TD><TD>diameter</TD><TD>length/world.defaultFrameDia...</TD><TD>Diameter of axes arrows [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color_x</TD><TD>Modelica.Mechanics.MultiBody...</TD><TD>Color of x-arrow</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color_y</TD><TD>color_x</TD><TD>Color of y-arrow</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color_z</TD><TD>color_x</TD><TD>Color of z-arrow</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>world.defaultSpecularCoeffic...</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FixedFrame <font color="darkgreen">
  &quot;Visualizing a coordinate system including axes labels (visualization data may vary dynamically)&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types"
>Modelica.Mechanics.MultiBody.Types</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;
  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;
  <font color="blue">parameter </font>Boolean showLabels=true <font color="darkgreen">&quot;= true, if labels shall be shown&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> length=0.5 <font color="darkgreen">&quot;Length of axes arrows&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> diameter=length/world.defaultFrameDiameterFraction <font color="darkgreen">
    &quot;Diameter of axes arrows&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Types.Color</A> color_x=Modelica.Mechanics.MultiBody.Types.Defaults.
      FrameColor <font color="darkgreen">&quot;Color of x-arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Types.Color</A> color_y=color_x <font color="darkgreen">&quot;Color of y-arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Types.Color</A> color_z=color_x <font color="darkgreen">&quot;Color of z-arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = world.defaultSpecularCoefficient <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">parameter </font>Boolean animation2 = world.enableAnimation<font color="blue"> and </font>animation;
  <font color="blue">parameter </font>Boolean showLabels2= world.enableAnimation<font color="blue"> and </font>animation<font color="blue"> and </font>showLabels;

  <font color="darkgreen">// Parameters to define axes</font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> headLength=<font color="red">min</font>(length, diameter*Types.Defaults.FrameHeadLengthFraction);
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> headWidth=diameter*Types.Defaults.FrameHeadWidthFraction;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> lineLength=<font color="red">max</font>(0, length - headLength);
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> lineWidth=diameter;

  <font color="darkgreen">// Parameters to define axes labels</font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> scaledLabel=Modelica.Mechanics.MultiBody.Types.Defaults.FrameLabelHeightFraction*diameter;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> labelStart=1.05*length;

  <font color="darkgreen">// x-axis</font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> x_arrowLine(
    shapeType=&quot;cylinder&quot;,
    length=lineLength,
    width=lineWidth,
    height=lineWidth,
    lengthDirection={1,0,0},
    widthDirection={0,1,0},
    color=color_x,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> x_arrowHead(
    shapeType=&quot;cone&quot;,
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection={1,0,0},
    widthDirection={0,1,0},
    color=color_x,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0 +<font color="red"> Frames.resolve1</font>(frame_a.R, {lineLength,0,0}),
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal.Lines"
>Visualizers.Internal.Lines</A> x_label(
    lines=scaledLabel*{[0, 0; 1, 1],[0, 1; 1, 0]},
    diameter=diameter,
    color=color_x,
    specularCoefficient=specularCoefficient,
    r_lines={labelStart,0,0},
    n_x={1,0,0},
    n_y={0,1,0},
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>showLabels2;

  <font color="darkgreen">// y-axis</font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> y_arrowLine(
    shapeType=&quot;cylinder&quot;,
    length=lineLength,
    width=lineWidth,
    height=lineWidth,
    lengthDirection={0,1,0},
    widthDirection={1,0,0},
    color=color_y,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> y_arrowHead(
    shapeType=&quot;cone&quot;,
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection={0,1,0},
    widthDirection={1,0,0},
    color=color_y,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0 +<font color="red"> Frames.resolve1</font>(frame_a.R, {0,lineLength,0}),
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal.Lines"
>Visualizers.Internal.Lines</A> y_label(
    lines=scaledLabel*{[0, 0; 1, 1.5],[0, 1.5; 0.5, 0.75]},
    diameter=diameter,
    color=color_y,
    specularCoefficient=specularCoefficient,
    r_lines={0,labelStart,0},
    n_x={0,1,0},
    n_y={-1,0,0},
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>showLabels2;

  <font color="darkgreen">// z-axis</font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> z_arrowLine(
    shapeType=&quot;cylinder&quot;,
    length=lineLength,
    width=lineWidth,
    height=lineWidth,
    lengthDirection={0,0,1},
    widthDirection={0,1,0},
    color=color_z,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> z_arrowHead(
    shapeType=&quot;cone&quot;,
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection={0,0,1},
    widthDirection={0,1,0},
    color=color_z,
    specularCoefficient=specularCoefficient,
    r=frame_a.r_0 +<font color="red"> Frames.resolve1</font>(frame_a.R, {0,0,lineLength}),
    R=frame_a.R) <font color="blue">if </font>animation2;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal.Lines"
>Visualizers.Internal.Lines</A> z_label(
    lines=scaledLabel*{[0, 0; 1, 0],[0, 1; 1, 1],[0, 1; 1, 0]},
    diameter=diameter,
    color=color_z,
    specularCoefficient=specularCoefficient,
    r_lines={0,0,labelStart},
    n_x={0,0,1},
    n_y={0,1,0},
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>showLabels2;
<font color="blue">equation </font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedFrame;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedArrow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedArrowI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedArrow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.FixedArrow"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.FixedArrow</H2>
<B>Visualizing an arrow with dynamically varying size in frame_a</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.FixedFrameD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.FixedArrow">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>FixedArrow</b> defines an arrow that is
shown at the location of its frame_a.
<br>&nbsp;
</p>
<IMG src="../Resources/Images/MultiBody/Visualizers/Arrow.png" ALT="model Visualizers.FixedArrow">
<p>
The direction of the arrow specified with vector
<b>n</b> is with respect to frame_a, i.e., the local frame to which the
arrow component is attached. The direction and length of the arrow, its diameter
and color can vary dynamically by
providing appropriate expressions in the input fields of the
parameter menu.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>if animation = true</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>r_tail[3]</TD><TD>{0,0,0}</TD><TD> Vector from frame_a to arrow tail, resolved in frame_a [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Axis</A></TD><TD>n</TD><TD>{1,0,0}</TD><TD> Vector in arrow direction, resolved in frame_a [1]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>length</TD><TD>0.1</TD><TD> Length of complete arrow [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Diameter</A></TD><TD>diameter</TD><TD>world.defaultArrowDiameter</TD><TD> Diameter of arrow line [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color</TD><TD>{0,0,255}</TD><TD> Color of arrow</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>world.defaultSpecularCoeffic...</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> FixedArrow <font color="darkgreen">
  &quot;Visualizing an arrow with dynamically varying size in frame_a&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types"
>Modelica.Mechanics.MultiBody.Types</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;
  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r_tail[3]={0,0,0} <font color="darkgreen">
    &quot; Vector from frame_a to arrow tail, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Axis"
>Types.Axis</A> n={1,0,0} <font color="darkgreen">&quot; Vector in arrow direction, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> length=0.1 <font color="darkgreen">&quot; Length of complete arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Diameter"
>SI.Diameter</A> diameter=world.defaultArrowDiameter <font color="darkgreen">
    &quot; Diameter of arrow line&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Types.Color</A> color={0,0,255} <font color="darkgreen">&quot; Color of arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = world.defaultSpecularCoefficient <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> headLength=<font color="red">min</font>(length, diameter*Types.Defaults.
      ArrowHeadLengthFraction);
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> headWidth=diameter*Types.Defaults.
      ArrowHeadWidthFraction;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> lineLength=<font color="red">max</font>(0, length - headLength);
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowLine(
    shapeType=&quot;cylinder&quot;,
    length=lineLength,
    width=diameter,
    height=diameter,
    lengthDirection=n,
    widthDirection={0,1,0},
    color=color,
    specularCoefficient=specularCoefficient,
    r_shape=r_tail,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowHead(
    shapeType=&quot;cone&quot;,
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection=n,
    widthDirection={0,1,0},
    color=color,
    specularCoefficient=specularCoefficient,
    r_shape=r_tail +<font color="red"> Modelica.Math.Vectors.normalize</font>(
                                      n)*lineLength,
    r=frame_a.r_0,
    R=frame_a.R) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;

<font color="blue">equation </font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedArrow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SignalArrow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.SignalArrowI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.SignalArrow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.SignalArrow"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.SignalArrow</H2>
<B>Visualizing an arrow with dynamically varying size in frame_a based on input signal</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.SignalArrowD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.SignalArrow">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>SignalArrow</b> defines an arrow that is dynamically visualized
at the location where its frame_a is attached. The
position vector from the tail to the head of the arrow,
resolved in frame_a, is defined via the signal vector of
the connector <b>r_head</b> (Real r_head[3]):<br>&nbsp;
</p>
<IMG src="../Resources/Images/MultiBody/Visualizers/Arrow.png" ALT="model Visualizers.SignalArrow">
<p>
The tail of the arrow is defined with parameter <b>r_tail</b>
with respect to frame_a (vector from the origin of frame_a to the arrow tail).
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>if animation = true</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>r_tail[3]</TD><TD>{0,0,0}</TD><TD>Vector from frame_a to arrow tail, resolved in frame_a [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Diameter</A></TD><TD>diameter</TD><TD>world.defaultArrowDiameter</TD><TD>Diameter of arrow line [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>color</TD><TD>{0,0,255}</TD><TD>Color of arrow</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>world.defaultSpecularCoeffic...</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>r_head[3]</TD><TD>Position vector from origin of frame_a to head of arrow, resolved in frame_a [m]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SignalArrow <font color="darkgreen">
  &quot;Visualizing an arrow with dynamically varying size in frame_a based on input signal&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">import </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types"
>Modelica.Mechanics.MultiBody.Types</A>;

  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;
  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> r_tail[3]={0,0,0} <font color="darkgreen">
    &quot;Vector from frame_a to arrow tail, resolved in frame_a&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Diameter"
>SI.Diameter</A> diameter=world.defaultArrowDiameter <font color="darkgreen">
    &quot;Diameter of arrow line&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Modelica.Mechanics.MultiBody.Types.Color</A> color={0,0,255} <font color="darkgreen">
    &quot;Color of arrow&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = world.defaultSpecularCoefficient <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> r_head[3](<font color="blue">each </font><font color="blue">final </font>quantity=&quot;Position&quot;, <font color="blue">each </font><font color="blue">final </font>
            unit =                                                                               &quot;m&quot;) <font color="darkgreen">
    &quot;Position vector from origin of frame_a to head of arrow, resolved in frame_a&quot;</font>;</textblock>

<font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Arrow"
>Visualizers.Advanced.Arrow</A> arrow(
    R=frame_a.R,
    r=frame_a.r_0,
    r_tail=r_tail,
    r_head=r_head,
    diameter=diameter,
    color=color,
    specularCoefficient=specularCoefficient) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;
<font color="blue">equation </font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>SignalArrow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Ground<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.GroundI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Ground" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.Ground"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.Ground</H2>
<B>Visualizing the ground (box in z=0)</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.GroundD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Ground">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This shape visualizes the x-y plane by a box
</p>

<blockquote>
<img src="../Resources/Images/MultiBody/Visualizers/Ground.png">
</blockquote>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation of ground shall be enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>length</TD><TD>10</TD><TD>Length and width of box (center is at x=y=0) [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>height</TD><TD>0.02</TD><TD>Height of box (upper surface is at z=0, lower surface is at z=-height) [m]</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Color</A></TD><TD>groundColor</TD><TD>{0,255,0}</TD><TD>Color of box</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Ground <font color="darkgreen">&quot;Visualizing the ground (box in z=0)&quot;</font>
   <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">
    &quot;= true, if animation of ground shall be enabled&quot;</font>;
   <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</A> length = 10 <font color="darkgreen">
    &quot;Length and width of box (center is at x=y=0)&quot;</font>;
   <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Modelica.SIunits.Position</A> height = 0.02 <font color="darkgreen">
    &quot;Height of box (upper surface is at z=0, lower surface is at z=-height)&quot;</font>;
   <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color"
>Modelica.Mechanics.MultiBody.Types.Color</A> groundColor={0,255,0} <font color="darkgreen">
    &quot;Color of box&quot;</font>;

<textblock type="annotcomp" expanded="false">   <A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.FixedShape"
>Modelica.Mechanics.MultiBody.Visualizers.FixedShape</A> ground(
     lengthDirection={1,0,0},
     widthDirection={0,1,0},
     animation=animation,
     r_shape={-length/2,0,-height},
     length=length,
     height=height,
     color=groundColor,
     width=length);
   <A HREF="Modelica_Mechanics_MultiBody_Parts.html#Modelica.Mechanics.MultiBody.Parts.Fixed"
>Modelica.Mechanics.MultiBody.Parts.Fixed</A> fixed;</textblock>
<font color="blue">equation </font>

<textblock type="annotconnect" expanded="false">  <font color="red"> connect</font>(fixed.frame_b, ground.frame_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Ground;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Torus<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.TorusI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Torus" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.Torus"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.Torus</H2>
<B>Visualizing a torus</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.TorusD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.Torus">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>Torus</b> visualizes a torus. The center of the torus is located at
connector frame_a (visualized by the red coordinate system in the figure below).
The left image below shows a torus with ri=0.5 m and ro = 0.2 m.
The right images below shows the torus with the additional parameter
settings:
</p>
<pre>
  opening    =   45 degree
  startAngle = -135 degree
  stopAngle  =  135 degree
</pre>

<blockquote>
<img src="../Resources/Images/MultiBody/Visualizers/Torus.png">
</blockquote>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>ri</TD><TD>0.5</TD><TD>Inner radius of torus [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>ro</TD><TD>0.1</TD><TD>Outer radius of torus (=width/2) [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>opening</TD><TD>0</TD><TD>Opening angle of torus [rad]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>startAngle</TD><TD>-3.1415926535898</TD><TD>Start angle of torus slice [rad]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>stopAngle</TD><TD>3.1415926535898</TD><TD>End angle of torus slice [rad]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</TD></TR>
<TR><TD>Boolean</TD><TD>wireframe</TD><TD>false</TD><TD>= true: 3D model will be displayed without faces</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.RealColor"
>RealColor</A></TD><TD>color</TD><TD>{0,128,255}</TD><TD>Color of surface</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>0.7</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
<TR><TD>Real</TD><TD>transparency</TD><TD>0</TD><TD>Transparency of shape: 0 (= opaque) ... 1 (= fully transparent)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Discretization</B></TD></TR>
<TR><TD>Integer</TD><TD>n_ri</TD><TD>40</TD><TD>Number of points along ri</TD></TR>
<TR><TD>Integer</TD><TD>n_ro</TD><TD>20</TD><TD>Number of points along ro</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Torus <font color="darkgreen">&quot;Visualizing a torus&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;

  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Modelica.SIunits.Radius</A> ri=0.5 <font color="darkgreen">&quot;Inner radius of torus&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Modelica.SIunits.Radius</A> ro=0.1 <font color="darkgreen">&quot;Outer radius of torus (=width/2)&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> opening=0 <font color="darkgreen">&quot;Opening angle of torus&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> startAngle=-3.1415926535898 <font color="darkgreen">
    &quot;Start angle of torus slice&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</A> stopAngle=3.1415926535898 <font color="darkgreen">
    &quot;End angle of torus slice&quot;</font>;
  <font color="blue">parameter </font>Boolean wireframe=false <font color="darkgreen">
    &quot;= true: 3D model will be displayed without faces&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.RealColor"
>Modelica.Mechanics.MultiBody.Types.RealColor</A> color={0,128,255} <font color="darkgreen">
    &quot;Color of surface&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = 0.7 <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;
  <font color="blue">input </font>Real transparency=0 <font color="darkgreen">
    &quot;Transparency of shape: 0 (= opaque) ... 1 (= fully transparent)&quot;</font>;
  <font color="blue">parameter </font>Integer n_ri=40 <font color="darkgreen">&quot;Number of points along ri&quot;</font>;
  <font color="blue">parameter </font>Integer n_ro=20 <font color="darkgreen">&quot;Number of points along ro&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Surface"
>Advanced.Surface</A> surface( <font color="blue">redeclare </font><font color="blue">function</font> surfaceCharacteristic =
        <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced_SurfaceCharacteristics.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.SurfaceCharacteristics.torus"
>Modelica.Mechanics.MultiBody.Visualizers.Advanced.SurfaceCharacteristics.torus</A>
        (   ri=ri, ro=ro, opening=opening, startAngle=startAngle, stopAngle=stopAngle),
          nu=n_ri,
          nv=n_ro,
          multiColoredSurface=false,
          wireframe=wireframe,
          color=color,
          specularCoefficient=specularCoefficient,
          transparency=transparency,
    R=frame_a.R,
    r_0=frame_a.r_0) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;</textblock>
<font color="blue">equation </font>
  <font color="darkgreen">// No forces and torques</font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Torus;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VoluminousWheel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheelI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.VoluminousWheel</H2>
<B>Visualizing a voluminous wheel</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheelD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.VoluminousWheel">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>VoluminousWheel</b> provides a simple visualization of a tire using
a torus and a pipe shape object. The center of the wheel is located at
connector frame_a (visualized by the red coordinate system in the figure below).
</p>

<blockquote>
<img src="../Resources/Images/MultiBody/Visualizers/VoluminousWheel.png">
</blockquote>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>rTire</TD><TD>0.25</TD><TD>Radius of the tire [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>rRim</TD><TD>0.14</TD><TD>Radius of the rim [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>width</TD><TD>0.25</TD><TD>Width of the tire [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>rCurvature</TD><TD>0.30</TD><TD>Radius of the curvature of the tire [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.RealColor"
>RealColor</A></TD><TD>color</TD><TD>{64,64,64}</TD><TD>Color of tire</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>0.5</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Discretization</B></TD></TR>
<TR><TD>Integer</TD><TD>n_rTire</TD><TD>40</TD><TD>Number of points along rTire</TD></TR>
<TR><TD>Integer</TD><TD>n_rCurvature</TD><TD>20</TD><TD>Number of points along rCurvature</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> VoluminousWheel <font color="darkgreen">&quot;Visualizing a voluminous wheel&quot;</font>
  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;

  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rTire=0.25 <font color="darkgreen">&quot;Radius of the tire&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rRim= 0.14 <font color="darkgreen">&quot;Radius of the rim&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> width=0.25 <font color="darkgreen">&quot;Width of the tire&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rCurvature=0.30 <font color="darkgreen">&quot;Radius of the curvature of the tire&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.RealColor"
>Modelica.Mechanics.MultiBody.Types.RealColor</A> color={64,64,64} <font color="darkgreen">
    &quot;Color of tire&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = 0.5 <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;
  <font color="blue">parameter </font>Integer n_rTire=40 <font color="darkgreen">&quot;Number of points along rTire&quot;</font>;
  <font color="blue">parameter </font>Integer n_rCurvature=20 <font color="darkgreen">&quot;Number of points along rCurvature&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rw = (width/2);
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rCurvature2 = <font color="blue">if </font>rCurvature &gt; rw<font color="blue"> then </font>rCurvature<font color="blue"> else </font>rw;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> h =<font color="red">     sqrt</font>(1-(rw/rCurvature2)*(rw/rCurvature2))*rCurvature2;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> ri =    rTire-rCurvature2;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>SI.Radius</A> rRim2 = <font color="blue">if </font>rRim &lt; 0<font color="blue"> then </font>0<font color="blue"> else </font><font color="blue">if </font>rRim &gt; ri+h<font color="blue"> then </font>ri+h<font color="blue"> else </font>rRim;

<textblock type="annotcomp" expanded="false">    <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> pipe(
      shapeType=&quot;pipe&quot;,
      color=color,
      length= width,
      width=2*(ri+h),
      height=2*(ri+h),
      lengthDirection={0,1,0},
      widthDirection={0,0,1},
      extra=(rRim2)/(ri+h),
      r=frame_a.r_0,
      r_shape= -{0,1,0}*(width/2),
      R= frame_a.R,
      specularCoefficient = specularCoefficient) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;</textblock>

<textblock type="annotcomp" expanded="false">    <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.Surface"
>Visualizers.Advanced.Surface</A> torus(<font color="blue">redeclare </font><font color="blue">function</font> surfaceCharacteristic
      = <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced_SurfaceCharacteristics.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.SurfaceCharacteristics.torus"
>Modelica.Mechanics.MultiBody.Visualizers.Advanced.SurfaceCharacteristics.torus</A>
        (     ri=ri,
              ro=rCurvature2,
              opening=Modelica.Constants.pi -<font color="red"> Modelica.Math.asin</font>(rw/rCurvature2)),
          nu=n_rTire,
          nv=n_rCurvature,
          multiColoredSurface=false,
          wireframe=false,
          color=color,
          specularCoefficient=specularCoefficient,
          transparency=0,
          R=frame_a.R,
          r_0=frame_a.r_0) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;</textblock>

<font color="blue">equation </font>
  <font color="darkgreen">// No forces and torques</font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VoluminousWheel;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PipeWithScalarField<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarFieldI.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField"></A><A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers"
>Modelica.Mechanics.MultiBody.Visualizers</A>.PipeWithScalarField</H2>
<B>Visualizing a pipe with scalar field quantities along the pipe axis</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarFieldD.png" ALT="Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Model <b>PipeWithScalarField</b> visualizes a pipe and a scalar
field along the pipe axis. The latter is shown by mapping the scalar
field to color values with a color map and utilizing this color
at the perimeter associated with the corresponding axis location.
Typically the scalar field value is a temperature, but might
be also another quantity.
Predefined color maps are available from
<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Colors_ColorMaps.html#Modelica.Mechanics.MultiBody.Visualizers.Colors.ColorMaps"
>MultiBody.Visualizers.Colors.ColorMaps</a>
and can be selected via parameter "colorMap".
A color map with the corresponding scalar field values can be exported
as vector-graphics in svg-format with function
<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Colors.html#Modelica.Mechanics.MultiBody.Visualizers.Colors.colorMapToSvg"
>MultiBody.Visualizers.Colors.colorMapToSvg</a>.
Connecter frame_a of this component is located in the center of the
circle at the left side of the pipe and the pipe axis is oriented
along the x-axis of frame_a, see figure below in which frame_a is visualized
with a coordinate system:
</p>

<blockquote>
<img src="../Resources/Images/MultiBody/Visualizers/PipeWithScalarField.png">
</blockquote>

<p>
The color coding is shown in the next figure. It was generated with
<A HREF="Modelica_Mechanics_MultiBody_Visualizers_Colors.html#Modelica.Mechanics.MultiBody.Visualizers.Colors.colorMapToSvg"
>MultiBody.Visualizers.Colors.colorMapToSvg</a>
using the following call:
</p>

<blockquote>
<pre>
colorMapToSvg(Modelica.Mechanics.MultiBody.Visualizers.Colors.ColorMap.jet(),
              height=50, nScalars=6, T_max=100, caption="Temperature in C");
</pre>
</blockquote>

<blockquote>
<img src="../Resources/Images/MultiBody/Visualizers/PipeWithScalarField-ColorMap.png">
</blockquote>
<pre></PRE><P>
Extends from <A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>animation</TD><TD>true</TD><TD>= true, if animation shall be enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Radius</A></TD><TD>rOuter</TD><TD>&nbsp;</TD><TD>Outer radius of pipe [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>length</TD><TD>&nbsp;</TD><TD>Length of pipe [m]</TD></TR>
<TR><TD>Real</TD><TD>xsi[:]</TD><TD>Modelica.Math.Vectors.relNod...</TD><TD>[:] Relative position along the pipe with x[1] = 0, x[end] = 1</TD></TR>
<TR><TD>Real</TD><TD>T[size(xsi, 1)]</TD><TD>&nbsp;</TD><TD>[:] Scalar values at position xsi*length (will be visualized by color)</TD></TR>
<TR><TD>Real</TD><TD>T_min</TD><TD>&nbsp;</TD><TD>Minimum value of T that corresponds to colorMap[1,:]</TD></TR>
<TR><TD>Real</TD><TD>T_max</TD><TD>&nbsp;</TD><TD>Maximum value of T that corresponds to colorMap[end,:]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Color coding</TD></TR>
<TR><TD>Integer</TD><TD>n_colors</TD><TD>64</TD><TD>Number of colors in the colorMap</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>SpecularCoefficient</A></TD><TD>specularCoefficient</TD><TD>0.7</TD><TD>Reflection of ambient light (= 0: light is completely absorbed)</TD></TR>
<TR><TD>Real</TD><TD>transparency</TD><TD>0</TD><TD>Transparency of shape: 0 (= opaque) ... 1 (= fully transparent)</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Discretization</B></TD></TR>
<TR><TD>Integer</TD><TD>n_rOuter</TD><TD>30</TD><TD>Number of points along outer radius</TD></TR>
<TR><TD>Integer</TD><TD>n_length</TD><TD>20</TD><TD>Number of points along length</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a"
>Frame_a</A></TD><TD>frame_a</TD><TD>Coordinate system in which visualization data is resolved</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PipeWithScalarField <font color="darkgreen">
  &quot;Visualizing a pipe with scalar field quantities along the pipe axis&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer"
>Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</A>;

  <font color="blue">parameter </font>Boolean animation=true <font color="darkgreen">&quot;= true, if animation shall be enabled&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Radius"
>Modelica.SIunits.Radius</A> rOuter <font color="darkgreen">&quot;Outer radius of pipe&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> length <font color="darkgreen">&quot;Length of pipe&quot;</font>;

  <font color="blue">parameter </font>Real xsi[:](min=0,max=1)=<font color="red"> Modelica.Math.Vectors.relNodePositions</font>(12) <font color="darkgreen">
    &quot;[:] Relative position along the pipe with x[1] = 0, x[end] = 1&quot;</font>;
  <font color="blue">input </font>Real T[<font color="red">size</font>(xsi,1)] <font color="darkgreen">
    &quot;[:] Scalar values at position xsi*length (will be visualized by color)&quot;</font>;
  <font color="blue">parameter </font>Real T_min <font color="darkgreen">&quot;Minimum value of T that corresponds to colorMap[1,:]&quot;</font>;
  <font color="blue">parameter </font>Real T_max <font color="darkgreen">&quot;Maximum value of T that corresponds to colorMap[end,:]&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">function</font> colorMap =
      <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Colors_ColorMaps.html#Modelica.Mechanics.MultiBody.Visualizers.Colors.ColorMaps.jet"
>Modelica.Mechanics.MultiBody.Visualizers.Colors.ColorMaps.jet</A>
        <font color="blue">constrainedby </font>Modelica.Mechanics.MultiBody.Interfaces.partialColorMap <font color="darkgreen">
    &quot;Function defining the color map&quot;</font>;

  <font color="blue">parameter </font>Integer n_colors=64 <font color="darkgreen">&quot;Number of colors in the colorMap&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient"
>Types.SpecularCoefficient</A> specularCoefficient = 0.7 <font color="darkgreen">
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;</font>;
  <font color="blue">parameter </font>Real transparency=0 <font color="darkgreen">
    &quot;Transparency of shape: 0 (= opaque) ... 1 (= fully transparent)&quot;</font>;

  <font color="blue">parameter </font>Integer n_rOuter=30 <font color="darkgreen">&quot;Number of points along outer radius&quot;</font>;
  <font color="blue">parameter </font>Integer n_length=20 <font color="darkgreen">&quot;Number of points along length&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Visualizers_Advanced.html#Modelica.Mechanics.MultiBody.Visualizers.Advanced.PipeWithScalarField"
>Advanced.PipeWithScalarField</A> pipe(<font color="blue">redeclare </font><font color="blue">function</font> colorMap = <A HREF="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers.PipeWithScalarField.pipe.colorMap"
>colorMap</A>,
         rOuter=rOuter,
         length=length,
         xsi=xsi,
         T=T,
         T_min=T_min,
         T_max=T_max,
         n_colors=n_colors,
         n_rOuter=n_rOuter,
         n_length=n_length,
         specularCoefficient=specularCoefficient,
         transparency=transparency,
         R=frame_a.R,
         r_0=frame_a.r_0) <font color="blue">if </font>world.enableAnimation<font color="blue"> and </font>animation;</textblock>
<font color="blue">equation </font>
  <font color="darkgreen">// No forces and torques</font>
  frame_a.f =<font color="red"> zeros</font>(3);
  frame_a.t =<font color="red"> zeros</font>(3);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PipeWithScalarField;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:30:40 2010.
</address></BODY>
</HTML>
